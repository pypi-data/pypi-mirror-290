import{s as O,l as U,m as F,o as J,u as Q,p as X,q as x,e as E,a as C,c as L,b as S,K as fe,g as T,f as p,C as v,i as A,h as N,n as te,t as ne,r as Ie,d as se,w as ke,I as he,j as ue,v as de,N as Be,y as He,L as Ue,a7 as je,k as ze,B as Re}from"../chunks/scheduler.n6UFXMPX.js";import{S as q,i as G,c as M,a as P,m as V,t as h,b as I,d as y,g as Y,e as Z}from"../chunks/index.CCozetO6.js";import{p as Pe}from"../chunks/stores.Dri4M79n.js";import{P as Fe,g as Ke,a as Oe,b as qe}from"../chunks/PrimaryButton.Bom16U4E.js";import"../chunks/command.CvF2VHCd.js";import{a as Ge,L as We}from"../chunks/loader-2.CHoRZqdd.js";import{g as ae,a as re,d as Ve,D as Ye,e as De,s as me,i as Ze,c as ce,b as ye,f as Je,m as Qe}from"../chunks/datasetStores.DjpSgtAO.js";import{g as Xe,T as pe,C as xe}from"../chunks/TooltipIconButton.CWqXrzKI.js";import{g as _e}from"../chunks/entry.D3mLNHyK.js";import{p as et}from"../chunks/pixano.B9u33kEZ.js";import{I as le}from"../chunks/Icon.k1c4UAy1.js";const tt=!1,nt=!1,sn=Object.freeze(Object.defineProperty({__proto__:null,prerender:tt,ssr:nt},Symbol.toStringTag,{value:"Module"}));function st(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&Q(t,s,a,a[3],e?x(s,a[3],n,null):X(a[3]),null)},i(a){e||(h(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function at(l){let e,s;const t=[{name:"arrow-left-circle"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[st]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=U(a,t[n]);return e=new le({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?ae(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function rt(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return l.$$set=r=>{s(1,e=U(U({},e),F(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=F(e),[n,e,t,a]}class lt extends q{constructor(e){super(),G(this,e,rt,at,O,{})}}function ot(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&Q(t,s,a,a[3],e?x(s,a[3],n,null):X(a[3]),null)},i(a){e||(h(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function it(l){let e,s;const t=[{name:"arrow-left"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[ot]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=U(a,t[n]);return e=new le({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?ae(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function ct(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return l.$$set=r=>{s(1,e=U(U({},e),F(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=F(e),[n,e,t,a]}class ft extends q{constructor(e){super(),G(this,e,ct,it,O,{})}}function ut(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&Q(t,s,a,a[3],e?x(s,a[3],n,null):X(a[3]),null)},i(a){e||(h(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function dt(l){let e,s;const t=[{name:"arrow-right"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[ut]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=U(a,t[n]);return e=new le({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?ae(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function mt(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return l.$$set=r=>{s(1,e=U(U({},e),F(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=F(e),[n,e,t,a]}class _t extends q{constructor(e){super(),G(this,e,mt,dt,O,{})}}function pt(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&Q(t,s,a,a[3],e?x(s,a[3],n,null):X(a[3]),null)},i(a){e||(h(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function ht(l){let e,s;const t=[{name:"database"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[pt]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=U(a,t[n]);return e=new le({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?ae(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function $t(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return l.$$set=r=>{s(1,e=U(U({},e),F(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=F(e),[n,e,t,a]}class gt extends q{constructor(e){super(),G(this,e,$t,ht,O,{})}}const vt=gt;function bt(l){let e;const s=l[2].default,t=J(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&Q(t,s,a,a[3],e?x(s,a[3],n,null):X(a[3]),null)},i(a){e||(h(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function wt(l){let e,s;const t=[{name:"home"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[bt]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=U(a,t[n]);return e=new le({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?ae(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function It(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return l.$$set=r=>{s(1,e=U(U({},e),F(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=F(e),[n,e,t,a]}class kt extends q{constructor(e){super(),G(this,e,It,wt,O,{})}}const Dt=kt,Nt=""+new URL("../assets/pixano_white.BVKPSmmP.png",import.meta.url).href;function Ne(l){var $e;let e,s,t=(($e=l[0])==null?void 0:$e.length)+"",a,n,r,c="datasets",o,f,k,d=l[0].reduce(Ee,0)+"",w,D,i,_="items",m,u,b,$,B,K,R,g,j,W;return{c(){e=E("div"),s=E("span"),a=ne(t),n=C(),r=E("span"),r.textContent=c,o=C(),f=E("div"),k=E("span"),w=ne(d),D=C(),i=E("span"),i.textContent=_,m=C(),u=E("div"),b=E("div"),$=E("div"),B=E("input"),K=C(),R=Ie("svg"),g=Ie("path"),this.h()},l(H){e=L(H,"DIV",{class:!0});var z=S(e);s=L(z,"SPAN",{class:!0});var ee=S(s);a=se(ee,t),ee.forEach(p),n=T(z),r=L(z,"SPAN",{class:!0,"data-svelte-h":!0}),fe(r)!=="svelte-1royfdz"&&(r.textContent=c),z.forEach(p),o=T(H),f=L(H,"DIV",{class:!0});var oe=S(f);k=L(oe,"SPAN",{class:!0});var ge=S(k);w=se(ge,d),ge.forEach(p),D=T(oe),i=L(oe,"SPAN",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-3uc568"&&(i.textContent=_),oe.forEach(p),m=T(H),u=L(H,"DIV",{class:!0});var ve=S(u);b=L(ve,"DIV",{class:!0});var be=S(b);$=L(be,"DIV",{class:!0});var ie=S($);B=L(ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),K=T(ie),R=ke(ie,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var we=S(R);g=ke(we,"path",{d:!0,fill:!0}),S(g).forEach(p),we.forEach(p),ie.forEach(p),be.forEach(p),ve.forEach(p),this.h()},h(){v(s,"class","mr-2 text-4xl font-medium"),v(r,"class","text-xl font-medium"),v(e,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(k,"class","mr-2 text-4xl font-medium"),v(i,"class","text-xl font-medium"),v(f,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(B,"id","search-input"),v(B,"type","text"),v(B,"placeholder","Search datasets"),v(B,"class","h-10 pl-10 pr-4 rounded border border-primary-foreground bg-primary-foreground text-white placeholder-white font-medium focus:outline-none"),v(g,"d",Ge),v(g,"fill","white"),v(R,"xmlns","http://www.w3.org/2000/svg"),v(R,"height","48"),v(R,"viewBox","0 -960 960 960"),v(R,"width","48"),v(R,"class","absolute left-3 h-5 w-5 pointer-events-none"),v($,"class","h-20 relative flex items-center"),v(b,"class","flex items-center space-x-2"),v(u,"class","grow self-end flex flex-row justify-end items-end")},m(H,z){A(H,e,z),N(e,s),N(s,a),N(e,n),N(e,r),A(H,o,z),A(H,f,z),N(f,k),N(k,w),N(f,D),N(f,i),A(H,m,z),A(H,u,z),N(u,b),N(b,$),N($,B),N($,K),N($,R),N(R,g),j||(W=he(B,"input",l[1]),j=!0)},p(H,z){var ee;z&1&&t!==(t=((ee=H[0])==null?void 0:ee.length)+"")&&ue(a,t),z&1&&d!==(d=H[0].reduce(Ee,0)+"")&&ue(w,d)},d(H){H&&(p(e),p(o),p(f),p(m),p(u)),j=!1,W()}}}function Et(l){let e,s,t=`<img src="${Nt}" alt="Logo Pixano" class="w-7 h-7"/> <span class="text-2xl font-semibold text-slate-50 uppercase">Pixano</span>`,a,n,r=l[0]&&Ne(l);return{c(){e=E("header"),s=E("div"),s.innerHTML=t,a=C(),n=E("div"),r&&r.c(),this.h()},l(c){e=L(c,"HEADER",{class:!0});var o=S(e);s=L(o,"DIV",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-4zxcmy"&&(s.innerHTML=t),a=T(o),n=L(o,"DIV",{class:!0});var f=S(n);r&&r.l(f),f.forEach(p),o.forEach(p),this.h()},h(){v(s,"class","flex gap-4 items-center"),v(n,"class","flex pt-4 h-36 w-full items-center flex-wrap text-slate-50"),v(e,"class","p-4 w-full h-fit pt-8 px-20 xl:px-60 flex flex-col justify-evenly bg-primary font-Montserrat z-10")},m(c,o){A(c,e,o),N(e,s),N(e,a),N(e,n),r&&r.m(n,null)},p(c,[o]){c[0]?r?r.p(c,o):(r=Ne(c),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:te,o:te,d(c){c&&p(e),r&&r.d()}}}const Ee=(l,e)=>l+e.num_elements;function Lt(l,e,s){let{datasets:t}=e;const a=n=>{const r=n.currentTarget;Ve.update((c=[])=>c.map(o=>({...o,isFiltered:!o.name.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())})))};return l.$$set=n=>{"datasets"in n&&s(0,t=n.datasets)},[t,a]}class St extends q{constructor(e){super(),G(this,e,Lt,Et,O,{datasets:0})}}const Ct=(l,e,s)=>{const t=l.findIndex(a=>a===s);if(t!==-1){const a=e==="previous"?t-1:t+1;return a===-1?l[l.length-1]:a===l.length?l[0]:l[a]}},Tt=(l,e)=>{const s=l.findIndex(t=>t===e);return Math.floor(s/Ye)+1},Le=[{name:"Dashboard",Icon:Dt},{name:"Dataset",Icon:vt}],{window:At}=Xe;function Se(l,e,s){const t=l.slice();return t[20]=e[s].name,t[21]=e[s].Icon,t}function Ce(l){let e,s,t,a=`<img src="${et}" alt="Logo Pixano" class="w-8 h-8 mx-2"/>`,n,r,c,o=l[1].name+"",f,k,d,w;return r=new pe({props:{tooltipContent:l[2]?"Back to dataset":"Back to home",$$slots:{default:[Mt]},$$scope:{ctx:l}}}),r.$on("click",l[9]),{c(){e=E("div"),s=E("div"),t=E("button"),t.innerHTML=a,n=C(),M(r.$$.fragment),c=C(),f=ne(o),this.h()},l(D){e=L(D,"DIV",{class:!0});var i=S(e);s=L(i,"DIV",{class:!0});var _=S(s);t=L(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-13o3zhj"&&(t.innerHTML=a),n=T(_),P(r.$$.fragment,_),c=T(_),f=se(_,o),_.forEach(p),i.forEach(p),this.h()},h(){v(t,"class","h-10 w-10"),v(s,"class","flex gap-4 items-center font-light"),v(e,"class","h-10 flex items-center font-semibold text-2xl")},m(D,i){A(D,e,i),N(e,s),N(s,t),N(s,n),V(r,s,null),N(s,c),N(s,f),k=!0,d||(w=he(t,"click",l[13]),d=!0)},p(D,i){const _={};i&4&&(_.tooltipContent=D[2]?"Back to dataset":"Back to home"),i&16777216&&(_.$$scope={dirty:i,ctx:D}),r.$set(_),(!k||i&2)&&o!==(o=D[1].name+"")&&ue(f,o)},i(D){k||(h(r.$$.fragment,D),k=!0)},o(D){I(r.$$.fragment,D),k=!1},d(D){D&&p(e),y(r),d=!1,w()}}}function Mt(l){let e,s;return e=new lt({}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Te(l){let e,s,t,a;const n=[Vt,Pt],r=[];function c(o,f){return o[3]?0:1}return e=c(l),s=r[e]=n[e](l),{c(){s.c(),t=de()},l(o){s.l(o),t=de()},m(o,f){r[e].m(o,f),A(o,t,f),a=!0},p(o,f){let k=e;e=c(o),e===k?r[e].p(o,f):(Y(),I(r[k],1,1,()=>{r[k]=null}),Z(),s=r[e],s?s.p(o,f):(s=r[e]=n[e](o),s.c()),h(s,1),s.m(t.parentNode,t))},i(o){a||(h(s),a=!0)},o(o){I(s),a=!1},d(o){o&&p(t),r[e].d(o)}}}function Pt(l){let e,s,t,a,n,r,c;return s=new pe({props:{tooltipContent:"Previous item",$$slots:{default:[yt]},$$scope:{ctx:l}}}),s.$on("click",l[14]),r=new pe({props:{tooltipContent:"Next item",$$slots:{default:[Bt]},$$scope:{ctx:l}}}),r.$on("click",l[15]),{c(){e=E("div"),M(s.$$.fragment),t=C(),a=ne(l[2]),n=C(),M(r.$$.fragment),this.h()},l(o){e=L(o,"DIV",{class:!0});var f=S(e);P(s.$$.fragment,f),t=T(f),a=se(f,l[2]),n=T(f),P(r.$$.fragment,f),f.forEach(p),this.h()},h(){v(e,"class","flex items-center gap-4")},m(o,f){A(o,e,f),V(s,e,null),N(e,t),N(e,a),N(e,n),V(r,e,null),c=!0},p(o,f){const k={};f&16777216&&(k.$$scope={dirty:f,ctx:o}),s.$set(k),(!c||f&4)&&ue(a,o[2]);const d={};f&16777216&&(d.$$scope={dirty:f,ctx:o}),r.$set(d)},i(o){c||(h(s.$$.fragment,o),h(r.$$.fragment,o),c=!0)},o(o){I(s.$$.fragment,o),I(r.$$.fragment,o),c=!1},d(o){o&&p(e),y(s),y(r)}}}function Vt(l){let e,s;return e=new We({props:{class:"animate-spin"}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p:te,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function yt(l){let e,s;return e=new ft({}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Bt(l){let e,s;return e=new _t({}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Ht(l){let e,s,t,a,n;return e=new l[21]({props:{strokeWidth:1}}),{c(){M(e.$$.fragment),s=C(),t=ne(l[20]),a=C()},l(r){P(e.$$.fragment,r),s=T(r),t=se(r,l[20]),a=T(r)},m(r,c){V(e,r,c),A(r,s,c),A(r,t,c),A(r,a,c),n=!0},p:te,i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){r&&(p(s),p(t),p(a)),y(e,r)}}}function Ae(l){var a;let e,s;function t(){return l[16](l[20])}return e=new Fe({props:{isSelected:(a=l[0])==null?void 0:a.includes(`/${l[20]}`.toLowerCase()),$$slots:{default:[Ht]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,r){var o;l=n;const c={};r&1&&(c.isSelected=(o=l[0])==null?void 0:o.includes(`/${l[20]}`.toLowerCase())),r&16777216&&(c.$$scope={dirty:r,ctx:l}),e.$set(c)},i(n){s||(h(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function Me(l){let e,s;return e=new xe({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",l[7]),e.$on("alternative",l[8]),e.$on("cancel",l[17]),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p:te,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Ut(l){let e,s,t,a,n,r,c,o,f,k,d=l[1]&&Ce(l),w=l[2]&&Te(l),D=De(Le),i=[];for(let u=0;u<D.length;u+=1)i[u]=Ae(Se(l,D,u));const _=u=>I(i[u],1,1,()=>{i[u]=null});let m=l[4]!=="none"&&Me(l);return{c(){e=E("header"),s=E("div"),d&&d.c(),t=C(),w&&w.c(),a=C(),n=E("div");for(let u=0;u<i.length;u+=1)i[u].c();r=C(),m&&m.c(),c=de(),this.h()},l(u){e=L(u,"HEADER",{class:!0});var b=S(e);s=L(b,"DIV",{class:!0});var $=S(s);d&&d.l($),t=T($),w&&w.l($),a=T($),n=L($,"DIV",{class:!0});var B=S(n);for(let K=0;K<i.length;K+=1)i[K].l(B);B.forEach(p),$.forEach(p),b.forEach(p),r=T(u),m&&m.l(u),c=de(),this.h()},h(){v(n,"class","flex gap-4"),v(s,"class","h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800"),v(e,"class","w-full fixed z-40 font-Montserrat")},m(u,b){A(u,e,b),N(e,s),d&&d.m(s,null),N(s,t),w&&w.m(s,null),N(s,a),N(s,n);for(let $=0;$<i.length;$+=1)i[$]&&i[$].m(n,null);A(u,r,b),m&&m.m(u,b),A(u,c,b),o=!0,f||(k=[he(At,"keyup",l[6]),Be(l[11].call(null,s))],f=!0)},p(u,[b]){if(u[1]?d?(d.p(u,b),b&2&&h(d,1)):(d=Ce(u),d.c(),h(d,1),d.m(s,t)):d&&(Y(),I(d,1,1,()=>{d=null}),Z()),u[2]?w?(w.p(u,b),b&4&&h(w,1)):(w=Te(u),w.c(),h(w,1),w.m(s,a)):w&&(Y(),I(w,1,1,()=>{w=null}),Z()),b&1027){D=De(Le);let $;for($=0;$<D.length;$+=1){const B=Se(u,D,$);i[$]?(i[$].p(B,b),h(i[$],1)):(i[$]=Ae(B),i[$].c(),h(i[$],1),i[$].m(n,null))}for(Y(),$=D.length;$<i.length;$+=1)_($);Z()}u[4]!=="none"?m?(m.p(u,b),b&16&&h(m,1)):(m=Me(u),m.c(),h(m,1),m.m(c.parentNode,c)):m&&(Y(),I(m,1,1,()=>{m=null}),Z())},i(u){if(!o){h(d),h(w);for(let b=0;b<D.length;b+=1)h(i[b]);h(m),o=!0}},o(u){I(d),I(w),i=i.filter(Boolean);for(let b=0;b<i.length;b+=1)I(i[b]);I(m),o=!1},d(u){u&&(p(e),p(r),p(c)),d&&d.d(),w&&w.d(),He(i,u),m&&m.d(u),f=!1,Ue(k)}}}function jt(l,e,s){let{pageId:t}=e,{datasetItemsIds:a}=e,n,r,c,o,f="none",k="none";me.subscribe(g=>o=g.canSave),Ze.subscribe(g=>{s(3,c=g)});const d=async g=>{const j=Ct(a,g,r);if(j){const W=`/${n.id}/dataset/${j}`;if(o)return k=j,s(4,f=W);s(2,r=j),await _e(W)}},w=async g=>{var j;return((j=g.target)==null?void 0:j.tagName)==="INPUT"?g.preventDefault():(g.key==="ArrowLeft"?await d("previous"):g.key==="ArrowRight"&&await d("next"),g.key)},D=async()=>{me.update(g=>({...g,shouldSave:!0})),await i()},i=async()=>{k!=="none"&&(s(2,r=k),k="none"),await _e(f),s(4,f="none"),me.set({canSave:!1,shouldSave:!1})},_=async()=>{r?(ye.update(g=>(g.currentPage=Tt(a,r),g)),await m(`/${n.id}/dataset`)):await m("/")},m=async g=>{if(o)return s(4,f=g);await _e(g)};function u(g){function j(W){o&&W.preventDefault()}return window.addEventListener("beforeunload",j),{destroy(){window.removeEventListener("beforeunload",j)}}}const b=()=>m("/"),$=()=>d("previous"),B=()=>d("next"),K=g=>m(`/${n.id}/${g.toLocaleLowerCase()}`),R=()=>s(4,f="none");return l.$$set=g=>{"pageId"in g&&s(0,t=g.pageId),"datasetItemsIds"in g&&s(12,a=g.datasetItemsIds)},ce.subscribe(g=>s(1,n=g)),Pe.subscribe(g=>{s(2,r=g.params.itemId)}),[t,n,r,c,f,d,w,D,i,_,m,u,a,b,$,B,K,R]}class zt extends q{constructor(e){super(),G(this,e,jt,Ut,O,{pageId:0,datasetItemsIds:12})}}const Rt=""+new URL("../assets/favicon.OuiISzV3.ico",import.meta.url).href;function Ft(l){let e,s;return e=new zt({props:{pageId:l[1],datasetItemsIds:l[2]}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p(t,a){const n={};a&2&&(n.pageId=t[1]),a&4&&(n.datasetItemsIds=t[2]),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Kt(l){let e,s;return e=new St({props:{datasets:l[0]}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p(t,a){const n={};a&1&&(n.datasets=t[0]),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Ot(l){let e,s,t,a,n,r,c,o,f;const k=[Kt,Ft],d=[];function w(_,m){return _[1]==="/"?0:1}n=w(l),r=d[n]=k[n](l);const D=l[6].default,i=J(D,l,l[5],null);return{c(){e=E("link"),s=E("meta"),t=C(),a=E("div"),r.c(),c=C(),o=E("main"),i&&i.c(),this.h()},l(_){const m=je("svelte-8x3pw",document.head);e=L(m,"LINK",{rel:!0,type:!0,href:!0}),s=L(m,"META",{name:!0,content:!0}),m.forEach(p),t=T(_),a=L(_,"DIV",{class:!0});var u=S(a);r.l(u),c=T(u),o=L(u,"MAIN",{class:!0});var b=S(o);i&&i.l(b),b.forEach(p),u.forEach(p),this.h()},h(){v(e,"rel","icon"),v(e,"type","image/svg"),v(e,"href",Rt),document.title="Pixano",v(s,"name","description"),v(s,"content","Pixano app"),v(o,"class","h-1 min-h-screen bg-slate-50"),v(a,"class","app")},m(_,m){N(document.head,e),N(document.head,s),A(_,t,m),A(_,a,m),d[n].m(a,null),N(a,c),N(a,o),i&&i.m(o,null),f=!0},p(_,[m]){let u=n;n=w(_),n===u?d[n].p(_,m):(Y(),I(d[u],1,1,()=>{d[u]=null}),Z(),r=d[n],r?r.p(_,m):(r=d[n]=k[n](_),r.c()),h(r,1),r.m(a,c)),i&&i.p&&(!f||m&32)&&Q(i,D,_,_[5],f?x(D,_[5],m,null):X(_[5]),null)},i(_){f||(h(r),h(i,_),f=!0)},o(_){I(r),I(i,_),f=!1},d(_){_&&(p(t),p(a)),p(e),p(s),d[n].d(),i&&i.d(_)}}}function qt(l,e,s){let t;ze(l,ce,i=>s(4,t=i));let{$$slots:a={},$$scope:n}=e,r,c,o,f,k;async function d(){c=await Oe(),Qe.set(c)}async function w(){try{const i=await qe();s(0,r=i),Ve.set(i)}catch(i){console.error(i)}}Re(async()=>{await w(),await d()});const D=async i=>{i!==void 0&&s(2,k=await Ke(i))};return l.$$set=i=>{"$$scope"in i&&s(5,n=i.$$scope)},l.$$.update=()=>{l.$$.dirty&25&&Pe.subscribe(i=>{if(s(1,o=i.route.id),s(3,f=i.params.dataset),f&&t==null){const _=r==null?void 0:r.find(m=>m.id===f);_&&ce.set(_)}}),l.$$.dirty&8&&D(f)},ce.subscribe(i=>{i&&ye.set(Je)}),[r,o,k,f,t,n,a]}class an extends q{constructor(e){super(),G(this,e,qt,Ot,O,{})}}export{an as component,sn as universal};
