import{bW as it,r as E,bX as ct,U as Y,a as X,g as Z,bY as ut,aM as lt,bZ as ft,bo as x,bp as gt,u as pe,j as H,aQ as pt,b_ as vt}from"./index-DugHs1zq.js";import{T as yt}from"./index-JVT3rcxt.js";function bt(e,t){const r=it(),a=r.getQueryCache();return E.useSyncExternalStore(E.useCallback(n=>a.subscribe(ct.batchCalls(n)),[a]),()=>r.isFetching(e),()=>r.isFetching(e))}const $t=e=>{const{mutate:t}=Y();return t(["useDeleteMessages"],async({ids:n})=>(await X.delete(`${Z("MESSAGES")}`,{data:n})).data,e)},d=ut((e,t)=>({deleteSession:r=>{e(a=>({messages:a.messages.filter(o=>o.session_id!==r)}))},columns:[],setColumns:r=>{e(()=>({columns:r}))},messages:[],setMessages:r=>{e(()=>({messages:r}))},addMessage:r=>{e(()=>({messages:[...t().messages,r]}))},removeMessage:r=>{e(()=>({messages:t().messages.filter(a=>a.id!==r.id)}))},updateMessage:r=>{e(()=>({messages:t().messages.map(a=>a.id===r.id?r:a)}))},clearMessages:()=>{e(()=>({messages:[]}))},removeMessages:r=>new Promise((a,n)=>{try{e(o=>{const s=o.messages.filter(u=>!r.includes(u.id));return t().setMessages(s),a(s),{messages:s}})}catch(o){n(o)}})})),tl=({id:e,mode:t,excludedFields:r,params:a},n)=>{const{query:o}=Y(),s=async(c,y={})=>{const p={};return c&&(p.params={flow_id:c}),y&&(p.params={...p.params,...y}),await X.get(`${Z("MESSAGES")}`,p)};return o(["useGetMessagesQuery",{id:e}],async()=>{const c=await s(e,a),y=ft(c.data,t,r);return d.getState().setMessages(c.data),d.getState().setColumns(y),{rows:c,columns:y}},{placeholderData:lt,...n})},ht=e=>{const{mutate:t}=Y();return t(["useUpdateMessages"],async n=>(n.files&&typeof n.files=="string"&&(n.files=JSON.parse(n.files)),(await X.put(`${Z("MESSAGES")}/${n.id}`,n)).data),e)};function _t(){this.__data__=[],this.size=0}var dt=_t;function Tt(e,t){return e===t||e!==e&&t!==t}var Be=Tt,mt=Be;function jt(e,t){for(var r=e.length;r--;)if(mt(e[r][0],t))return r;return-1}var L=jt,St=L,At=Array.prototype,Ct=At.splice;function Ot(e){var t=this.__data__,r=St(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():Ct.call(t,r,1),--this.size,!0}var wt=Ot,Mt=L;function It(e){var t=this.__data__,r=Mt(t,e);return r<0?void 0:t[r][1]}var xt=It,Pt=L;function Et(e){return Pt(this.__data__,e)>-1}var Dt=Et,Ft=L;function Gt(e,t){var r=this.__data__,a=Ft(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Lt=Gt,Ut=dt,Bt=wt,Nt=xt,Kt=Dt,Rt=Lt;function T(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}T.prototype.clear=Ut;T.prototype.delete=Bt;T.prototype.get=Nt;T.prototype.has=Kt;T.prototype.set=Rt;var U=T,Vt=U;function Ht(){this.__data__=new Vt,this.size=0}var kt=Ht;function zt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var qt=zt;function Wt(e){return this.__data__.get(e)}var Qt=Wt;function Jt(e){return this.__data__.has(e)}var Yt=Jt,Xt=typeof x=="object"&&x&&x.Object===Object&&x,Ne=Xt,Zt=Ne,er=typeof self=="object"&&self&&self.Object===Object&&self,tr=Zt||er||Function("return this")(),b=tr,rr=b,ar=rr.Symbol,ee=ar,ve=ee,Ke=Object.prototype,nr=Ke.hasOwnProperty,sr=Ke.toString,C=ve?ve.toStringTag:void 0;function or(e){var t=nr.call(e,C),r=e[C];try{e[C]=void 0;var a=!0}catch{}var n=sr.call(e);return a&&(t?e[C]=r:delete e[C]),n}var ir=or,cr=Object.prototype,ur=cr.toString;function lr(e){return ur.call(e)}var fr=lr,ye=ee,gr=ir,pr=fr,vr="[object Null]",yr="[object Undefined]",be=ye?ye.toStringTag:void 0;function br(e){return e==null?e===void 0?yr:vr:be&&be in Object(e)?gr(e):pr(e)}var B=br;function $r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var O=$r,hr=B,_r=O,dr="[object AsyncFunction]",Tr="[object Function]",mr="[object GeneratorFunction]",jr="[object Proxy]";function Sr(e){if(!_r(e))return!1;var t=hr(e);return t==Tr||t==mr||t==dr||t==jr}var Re=Sr,Ar=b,Cr=Ar["__core-js_shared__"],Or=Cr,k=Or,$e=function(){var e=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wr(e){return!!$e&&$e in e}var Mr=wr,Ir=Function.prototype,xr=Ir.toString;function Pr(e){if(e!=null){try{return xr.call(e)}catch{}try{return e+""}catch{}}return""}var Ve=Pr,Er=Re,Dr=Mr,Fr=O,Gr=Ve,Lr=/[\\^$.*+?()[\]{}|]/g,Ur=/^\[object .+?Constructor\]$/,Br=Function.prototype,Nr=Object.prototype,Kr=Br.toString,Rr=Nr.hasOwnProperty,Vr=RegExp("^"+Kr.call(Rr).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hr(e){if(!Fr(e)||Dr(e))return!1;var t=Er(e)?Vr:Ur;return t.test(Gr(e))}var kr=Hr;function zr(e,t){return e==null?void 0:e[t]}var qr=zr,Wr=kr,Qr=qr;function Jr(e,t){var r=Qr(e,t);return Wr(r)?r:void 0}var _=Jr,Yr=_,Xr=b,Zr=Yr(Xr,"Map"),te=Zr,ea=_,ta=ea(Object,"create"),N=ta,he=N;function ra(){this.__data__=he?he(null):{},this.size=0}var aa=ra;function na(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sa=na,oa=N,ia="__lodash_hash_undefined__",ca=Object.prototype,ua=ca.hasOwnProperty;function la(e){var t=this.__data__;if(oa){var r=t[e];return r===ia?void 0:r}return ua.call(t,e)?t[e]:void 0}var fa=la,ga=N,pa=Object.prototype,va=pa.hasOwnProperty;function ya(e){var t=this.__data__;return ga?t[e]!==void 0:va.call(t,e)}var ba=ya,$a=N,ha="__lodash_hash_undefined__";function _a(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$a&&t===void 0?ha:t,this}var da=_a,Ta=aa,ma=sa,ja=fa,Sa=ba,Aa=da;function m(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}m.prototype.clear=Ta;m.prototype.delete=ma;m.prototype.get=ja;m.prototype.has=Sa;m.prototype.set=Aa;var Ca=m,_e=Ca,Oa=U,wa=te;function Ma(){this.size=0,this.__data__={hash:new _e,map:new(wa||Oa),string:new _e}}var Ia=Ma;function xa(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pa=xa,Ea=Pa;function Da(e,t){var r=e.__data__;return Ea(t)?r[typeof t=="string"?"string":"hash"]:r.map}var K=Da,Fa=K;function Ga(e){var t=Fa(this,e).delete(e);return this.size-=t?1:0,t}var La=Ga,Ua=K;function Ba(e){return Ua(this,e).get(e)}var Na=Ba,Ka=K;function Ra(e){return Ka(this,e).has(e)}var Va=Ra,Ha=K;function ka(e,t){var r=Ha(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var za=ka,qa=Ia,Wa=La,Qa=Na,Ja=Va,Ya=za;function j(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}j.prototype.clear=qa;j.prototype.delete=Wa;j.prototype.get=Qa;j.prototype.has=Ja;j.prototype.set=Ya;var Xa=j,Za=U,en=te,tn=Xa,rn=200;function an(e,t){var r=this.__data__;if(r instanceof Za){var a=r.__data__;if(!en||a.length<rn-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new tn(a)}return r.set(e,t),this.size=r.size,this}var nn=an,sn=U,on=kt,cn=qt,un=Qt,ln=Yt,fn=nn;function S(e){var t=this.__data__=new sn(e);this.size=t.size}S.prototype.clear=on;S.prototype.delete=cn;S.prototype.get=un;S.prototype.has=ln;S.prototype.set=fn;var gn=S;function pn(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var vn=pn,yn=_,bn=function(){try{var e=yn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$n=bn,de=$n;function hn(e,t,r){t=="__proto__"&&de?de(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var He=hn,_n=He,dn=Be,Tn=Object.prototype,mn=Tn.hasOwnProperty;function jn(e,t,r){var a=e[t];(!(mn.call(e,t)&&dn(a,r))||r===void 0&&!(t in e))&&_n(e,t,r)}var ke=jn,Sn=ke,An=He;function Cn(e,t,r,a){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],g=a?a(r[u],e[u],u,r,e):void 0;g===void 0&&(g=e[u]),n?An(r,u,g):Sn(r,u,g)}return r}var R=Cn;function On(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var wn=On;function Mn(e){return e!=null&&typeof e=="object"}var w=Mn,In=B,xn=w,Pn="[object Arguments]";function En(e){return xn(e)&&In(e)==Pn}var Dn=En,Te=Dn,Fn=w,ze=Object.prototype,Gn=ze.hasOwnProperty,Ln=ze.propertyIsEnumerable,Un=Te(function(){return arguments}())?Te:function(e){return Fn(e)&&Gn.call(e,"callee")&&!Ln.call(e,"callee")},Bn=Un,Nn=Array.isArray,re=Nn,D={exports:{}};function Kn(){return!1}var Rn=Kn;D.exports;(function(e,t){var r=b,a=Rn,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,u=s?r.Buffer:void 0,g=u?u.isBuffer:void 0,c=g||a;e.exports=c})(D,D.exports);var qe=D.exports,Vn=9007199254740991,Hn=/^(?:0|[1-9]\d*)$/;function kn(e,t){var r=typeof e;return t=t??Vn,!!t&&(r=="number"||r!="symbol"&&Hn.test(e))&&e>-1&&e%1==0&&e<t}var zn=kn,qn=9007199254740991;function Wn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qn}var We=Wn,Qn=B,Jn=We,Yn=w,Xn="[object Arguments]",Zn="[object Array]",es="[object Boolean]",ts="[object Date]",rs="[object Error]",as="[object Function]",ns="[object Map]",ss="[object Number]",os="[object Object]",is="[object RegExp]",cs="[object Set]",us="[object String]",ls="[object WeakMap]",fs="[object ArrayBuffer]",gs="[object DataView]",ps="[object Float32Array]",vs="[object Float64Array]",ys="[object Int8Array]",bs="[object Int16Array]",$s="[object Int32Array]",hs="[object Uint8Array]",_s="[object Uint8ClampedArray]",ds="[object Uint16Array]",Ts="[object Uint32Array]",f={};f[ps]=f[vs]=f[ys]=f[bs]=f[$s]=f[hs]=f[_s]=f[ds]=f[Ts]=!0;f[Xn]=f[Zn]=f[fs]=f[es]=f[gs]=f[ts]=f[rs]=f[as]=f[ns]=f[ss]=f[os]=f[is]=f[cs]=f[us]=f[ls]=!1;function ms(e){return Yn(e)&&Jn(e.length)&&!!f[Qn(e)]}var js=ms;function Ss(e){return function(t){return e(t)}}var ae=Ss,F={exports:{}};F.exports;(function(e,t){var r=Ne,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===a,s=o&&r.process,u=function(){try{var g=n&&n.require&&n.require("util").types;return g||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u})(F,F.exports);var ne=F.exports,As=js,Cs=ae,me=ne,je=me&&me.isTypedArray,Os=je?Cs(je):As,ws=Os,Ms=wn,Is=Bn,xs=re,Ps=qe,Es=zn,Ds=ws,Fs=Object.prototype,Gs=Fs.hasOwnProperty;function Ls(e,t){var r=xs(e),a=!r&&Is(e),n=!r&&!a&&Ps(e),o=!r&&!a&&!n&&Ds(e),s=r||a||n||o,u=s?Ms(e.length,String):[],g=u.length;for(var c in e)(t||Gs.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Es(c,g)))&&u.push(c);return u}var Qe=Ls,Us=Object.prototype;function Bs(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Us;return e===r}var se=Bs;function Ns(e,t){return function(r){return e(t(r))}}var Je=Ns,Ks=Je,Rs=Ks(Object.keys,Object),Vs=Rs,Hs=se,ks=Vs,zs=Object.prototype,qs=zs.hasOwnProperty;function Ws(e){if(!Hs(e))return ks(e);var t=[];for(var r in Object(e))qs.call(e,r)&&r!="constructor"&&t.push(r);return t}var Qs=Ws,Js=Re,Ys=We;function Xs(e){return e!=null&&Ys(e.length)&&!Js(e)}var Ye=Xs,Zs=Qe,eo=Qs,to=Ye;function ro(e){return to(e)?Zs(e):eo(e)}var oe=ro,ao=R,no=oe;function so(e,t){return e&&ao(t,no(t),e)}var oo=so;function io(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var co=io,uo=O,lo=se,fo=co,go=Object.prototype,po=go.hasOwnProperty;function vo(e){if(!uo(e))return fo(e);var t=lo(e),r=[];for(var a in e)a=="constructor"&&(t||!po.call(e,a))||r.push(a);return r}var yo=vo,bo=Qe,$o=yo,ho=Ye;function _o(e){return ho(e)?bo(e,!0):$o(e)}var ie=_o,To=R,mo=ie;function jo(e,t){return e&&To(t,mo(t),e)}var So=jo,G={exports:{}};G.exports;(function(e,t){var r=b,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===a,s=o?r.Buffer:void 0,u=s?s.allocUnsafe:void 0;function g(c,y){if(y)return c.slice();var p=c.length,$=u?u(p):new c.constructor(p);return c.copy($),$}e.exports=g})(G,G.exports);var Ao=G.exports;function Co(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var Oo=Co;function wo(e,t){for(var r=-1,a=e==null?0:e.length,n=0,o=[];++r<a;){var s=e[r];t(s,r,e)&&(o[n++]=s)}return o}var Mo=wo;function Io(){return[]}var Xe=Io,xo=Mo,Po=Xe,Eo=Object.prototype,Do=Eo.propertyIsEnumerable,Se=Object.getOwnPropertySymbols,Fo=Se?function(e){return e==null?[]:(e=Object(e),xo(Se(e),function(t){return Do.call(e,t)}))}:Po,ce=Fo,Go=R,Lo=ce;function Uo(e,t){return Go(e,Lo(e),t)}var Bo=Uo;function No(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var Ze=No,Ko=Je,Ro=Ko(Object.getPrototypeOf,Object),et=Ro,Vo=Ze,Ho=et,ko=ce,zo=Xe,qo=Object.getOwnPropertySymbols,Wo=qo?function(e){for(var t=[];e;)Vo(t,ko(e)),e=Ho(e);return t}:zo,tt=Wo,Qo=R,Jo=tt;function Yo(e,t){return Qo(e,Jo(e),t)}var Xo=Yo,Zo=Ze,ei=re;function ti(e,t,r){var a=t(e);return ei(e)?a:Zo(a,r(e))}var rt=ti,ri=rt,ai=ce,ni=oe;function si(e){return ri(e,ni,ai)}var oi=si,ii=rt,ci=tt,ui=ie;function li(e){return ii(e,ui,ci)}var fi=li,gi=_,pi=b,vi=gi(pi,"DataView"),yi=vi,bi=_,$i=b,hi=bi($i,"Promise"),_i=hi,di=_,Ti=b,mi=di(Ti,"Set"),ji=mi,Si=_,Ai=b,Ci=Si(Ai,"WeakMap"),Oi=Ci,z=yi,q=te,W=_i,Q=ji,J=Oi,at=B,A=Ve,Ae="[object Map]",wi="[object Object]",Ce="[object Promise]",Oe="[object Set]",we="[object WeakMap]",Me="[object DataView]",Mi=A(z),Ii=A(q),xi=A(W),Pi=A(Q),Ei=A(J),h=at;(z&&h(new z(new ArrayBuffer(1)))!=Me||q&&h(new q)!=Ae||W&&h(W.resolve())!=Ce||Q&&h(new Q)!=Oe||J&&h(new J)!=we)&&(h=function(e){var t=at(e),r=t==wi?e.constructor:void 0,a=r?A(r):"";if(a)switch(a){case Mi:return Me;case Ii:return Ae;case xi:return Ce;case Pi:return Oe;case Ei:return we}return t});var ue=h,Di=Object.prototype,Fi=Di.hasOwnProperty;function Gi(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Fi.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Li=Gi,Ui=b,Bi=Ui.Uint8Array,Ni=Bi,Ie=Ni;function Ki(e){var t=new e.constructor(e.byteLength);return new Ie(t).set(new Ie(e)),t}var le=Ki,Ri=le;function Vi(e,t){var r=t?Ri(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Hi=Vi,ki=/\w*$/;function zi(e){var t=new e.constructor(e.source,ki.exec(e));return t.lastIndex=e.lastIndex,t}var qi=zi,xe=ee,Pe=xe?xe.prototype:void 0,Ee=Pe?Pe.valueOf:void 0;function Wi(e){return Ee?Object(Ee.call(e)):{}}var Qi=Wi,Ji=le;function Yi(e,t){var r=t?Ji(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Xi=Yi,Zi=le,ec=Hi,tc=qi,rc=Qi,ac=Xi,nc="[object Boolean]",sc="[object Date]",oc="[object Map]",ic="[object Number]",cc="[object RegExp]",uc="[object Set]",lc="[object String]",fc="[object Symbol]",gc="[object ArrayBuffer]",pc="[object DataView]",vc="[object Float32Array]",yc="[object Float64Array]",bc="[object Int8Array]",$c="[object Int16Array]",hc="[object Int32Array]",_c="[object Uint8Array]",dc="[object Uint8ClampedArray]",Tc="[object Uint16Array]",mc="[object Uint32Array]";function jc(e,t,r){var a=e.constructor;switch(t){case gc:return Zi(e);case nc:case sc:return new a(+e);case pc:return ec(e,r);case vc:case yc:case bc:case $c:case hc:case _c:case dc:case Tc:case mc:return ac(e,r);case oc:return new a;case ic:case lc:return new a(e);case cc:return tc(e);case uc:return new a;case fc:return rc(e)}}var Sc=jc,Ac=O,De=Object.create,Cc=function(){function e(){}return function(t){if(!Ac(t))return{};if(De)return De(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Oc=Cc,wc=Oc,Mc=et,Ic=se;function xc(e){return typeof e.constructor=="function"&&!Ic(e)?wc(Mc(e)):{}}var Pc=xc,Ec=ue,Dc=w,Fc="[object Map]";function Gc(e){return Dc(e)&&Ec(e)==Fc}var Lc=Gc,Uc=Lc,Bc=ae,Fe=ne,Ge=Fe&&Fe.isMap,Nc=Ge?Bc(Ge):Uc,Kc=Nc,Rc=ue,Vc=w,Hc="[object Set]";function kc(e){return Vc(e)&&Rc(e)==Hc}var zc=kc,qc=zc,Wc=ae,Le=ne,Ue=Le&&Le.isSet,Qc=Ue?Wc(Ue):qc,Jc=Qc,Yc=gn,Xc=vn,Zc=ke,eu=oo,tu=So,ru=Ao,au=Oo,nu=Bo,su=Xo,ou=oi,iu=fi,cu=ue,uu=Li,lu=Sc,fu=Pc,gu=re,pu=qe,vu=Kc,yu=O,bu=Jc,$u=oe,hu=ie,_u=1,du=2,Tu=4,nt="[object Arguments]",mu="[object Array]",ju="[object Boolean]",Su="[object Date]",Au="[object Error]",st="[object Function]",Cu="[object GeneratorFunction]",Ou="[object Map]",wu="[object Number]",ot="[object Object]",Mu="[object RegExp]",Iu="[object Set]",xu="[object String]",Pu="[object Symbol]",Eu="[object WeakMap]",Du="[object ArrayBuffer]",Fu="[object DataView]",Gu="[object Float32Array]",Lu="[object Float64Array]",Uu="[object Int8Array]",Bu="[object Int16Array]",Nu="[object Int32Array]",Ku="[object Uint8Array]",Ru="[object Uint8ClampedArray]",Vu="[object Uint16Array]",Hu="[object Uint32Array]",l={};l[nt]=l[mu]=l[Du]=l[Fu]=l[ju]=l[Su]=l[Gu]=l[Lu]=l[Uu]=l[Bu]=l[Nu]=l[Ou]=l[wu]=l[ot]=l[Mu]=l[Iu]=l[xu]=l[Pu]=l[Ku]=l[Ru]=l[Vu]=l[Hu]=!0;l[Au]=l[st]=l[Eu]=!1;function P(e,t,r,a,n,o){var s,u=t&_u,g=t&du,c=t&Tu;if(r&&(s=n?r(e,a,n,o):r(e)),s!==void 0)return s;if(!yu(e))return e;var y=gu(e);if(y){if(s=uu(e),!u)return au(e,s)}else{var p=cu(e),$=p==st||p==Cu;if(pu(e))return ru(e,u);if(p==ot||p==nt||$&&!n){if(s=g||$?{}:fu(e),!u)return g?su(e,tu(s,e)):nu(e,eu(s,e))}else{if(!l[p])return n?e:{};s=lu(e,p,u)}}o||(o=new Yc);var M=o.get(e);if(M)return M;o.set(e,s),bu(e)?e.forEach(function(i){s.add(P(i,t,r,i,e,o))}):vu(e)&&e.forEach(function(i,v){s.set(v,P(i,t,r,v,e,o))});var V=c?g?iu:ou:g?hu:$u,I=y?void 0:V(e);return Xc(I||e,function(i,v){I&&(v=i,i=e[v]),Zc(s,v,P(i,t,r,v,e,o))}),s}var ku=P,zu=ku,qu=1,Wu=4;function Qu(e){return zu(e,qu|Wu)}var Ju=Qu;const Yu=gt(Ju);function rl({session:e,id:t}){const r=d(i=>i.columns),a=d(i=>i.messages),n=pe(i=>i.setErrorData),o=pe(i=>i.setSuccessData),s=d(i=>i.updateMessage),u=d(i=>i.removeMessages),g=bt({queryKey:["useGetMessagesQuery"],exact:!1}),[c,y]=E.useState([]),{mutate:p}=$t({onSuccess:()=>{u(c),y([]),o({title:"Messages deleted successfully."})},onError:()=>{n({title:"Error deleting messages."})}}),{mutate:$}=ht();function M(i){const v=i.newValue,fe=i.column.getColId(),ge={...Yu(i.data),[fe]:v};$(ge,{onSuccess:()=>{s(ge),o({title:"Messages updated successfully."})},onError:()=>{n({title:"Error updating messages."}),i.data[fe]=i.oldValue,i.api.refreshCells()}})}const V=E.useMemo(()=>{let i=e?a.filter(v=>v.session_id===e):a;return i=t?i.filter(v=>v.flow_id===t):i,i},[e,t,a]);function I(){p({ids:c})}return g>0?H.jsx("div",{className:"flex h-full w-full items-center justify-center align-middle",children:H.jsx(pt,{})}):H.jsx(yt,{onDelete:I,readOnlyEdit:!0,editable:[{field:"text",onUpdate:M,editableCell:!1}],overlayNoRowsTemplate:"No data available",onSelectionChanged:i=>{y(i.api.getSelectedRows().map(v=>v.id))},rowSelection:"multiple",suppressRowClickSelection:!0,pagination:!0,columnDefs:r.sort(vt),rowData:V},"sessionView")}export{rl as S,d as a,$t as b,Yu as c,tl as u};
