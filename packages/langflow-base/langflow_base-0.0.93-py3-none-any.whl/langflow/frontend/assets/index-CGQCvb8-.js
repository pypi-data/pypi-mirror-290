import{x as S,r as n,y as j,A as w,u as r,z as A,D as b,j as s,i as E,S as I}from"./index-DugHs1zq.js";import{u as L}from"./use-post-login-user-DcTNeyeV.js";import{I as o}from"./input-BBLODMOP.js";function y(){S();const[l,c]=n.useState(j),{login:i}=n.useContext(w),u=r(e=>e.setLoading),d=A(e=>e.setAllFlows),m=b(e=>e.setSelectedFolder),{password:g,username:x}=l,p=r(e=>e.setErrorData);function a({target:{name:e,value:t}}){c(N=>({...N,[e]:t}))}const{mutate:f}=L();function h(){f({username:x,password:g},{onSuccess:t=>{d([]),m(null),u(!0),i(t.access_token,"login")},onError:t=>{p({title:I,list:[t.response.data.detail]})}})}return s.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-muted",children:s.jsxs("div",{className:"flex w-72 flex-col items-center justify-center gap-2",children:[s.jsx("span",{className:"mb-4 text-5xl",children:"⛓️"}),s.jsx("span",{className:"mb-6 text-2xl font-semibold text-primary",children:"Admin"}),s.jsx(o,{onChange:({target:{value:e}})=>{a({target:{name:"username",value:e}})},className:"bg-background",placeholder:"Username"}),s.jsx(o,{type:"password",onChange:({target:{value:e}})=>{a({target:{name:"password",value:e}})},className:"bg-background",placeholder:"Password"}),s.jsx(E,{onClick:()=>{h()},variant:"default",className:"w-full",children:"Login"})]})})}export{y as default};
