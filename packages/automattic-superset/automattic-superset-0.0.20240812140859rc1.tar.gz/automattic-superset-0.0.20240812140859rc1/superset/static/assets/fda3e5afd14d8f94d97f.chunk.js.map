{"version":3,"file":"fda3e5afd14d8f94d97f.chunk.js","mappings":"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","sources":["webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://superset/./plugins/legacy-plugin-chart-partition/node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://superset/./plugins/legacy-plugin-chart-partition/src/Partition.js","webpack://superset/./plugins/legacy-plugin-chart-partition/src/ReactPartition.jsx","webpack://superset/./packages/superset-ui-core/src/chart/components/reactify.tsx"],"sourcesContent":["function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","/* eslint-disable react/sort-prop-types */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint no-param-reassign: [2, {\"props\": false}] */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { hierarchy } from 'd3-hierarchy';\nimport {\n  getNumberFormatter,\n  getTimeFormatter,\n  CategoricalColorNamespace,\n} from '@superset-ui/core';\n\n// Compute dx, dy, x, y for each node and\n// return an array of nodes in breadth-first order\nfunction init(root) {\n  const flat = [];\n  const dy = 1 / (root.height + 1);\n  let prev = null;\n  root.each(n => {\n    n.y = dy * n.depth;\n    n.dy = dy;\n    if (n.parent) {\n      n.x = prev.depth === n.parent.depth ? 0 : prev.x + prev.dx;\n      n.dx = (n.weight / n.parent.sum) * n.parent.dx;\n    } else {\n      n.x = 0;\n      n.dx = 1;\n    }\n    prev = n;\n    flat.push(n);\n  });\n\n  return flat;\n}\n\n// Declare PropTypes for recursive data structures\n// https://github.com/facebook/react/issues/5676\n/* eslint-disable-next-line  no-undef */\nconst lazyFunction = f => () => f().apply(this, arguments);\nconst leafType = PropTypes.shape({\n  name: PropTypes.string,\n  val: PropTypes.number.isRequired,\n});\nconst parentShape = {\n  name: PropTypes.string,\n  val: PropTypes.number.isRequired,\n  children: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.shape(lazyFunction(() => parentShape)),\n      leafType,\n    ]),\n  ),\n};\nconst nodeType = PropTypes.oneOfType([PropTypes.shape(parentShape), leafType]);\n\nconst propTypes = {\n  data: PropTypes.arrayOf(nodeType), // array of rootNode\n  width: PropTypes.number,\n  height: PropTypes.number,\n  colorScheme: PropTypes.string,\n  dateTimeFormat: PropTypes.string,\n  equalDateSize: PropTypes.bool,\n  levels: PropTypes.arrayOf(PropTypes.string),\n  metrics: PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  ),\n  numberFormat: PropTypes.string,\n  partitionLimit: PropTypes.number,\n  partitionThreshold: PropTypes.number,\n  timeSeriesOption: PropTypes.string,\n  useLogScale: PropTypes.bool,\n  useRichTooltip: PropTypes.bool,\n};\n\nfunction getAncestors(d) {\n  const ancestors = [d];\n  let node = d;\n  while (node.parent) {\n    ancestors.push(node.parent);\n    node = node.parent;\n  }\n\n  return ancestors;\n}\n\n// This vis is based on\n// http://mbostock.github.io/d3/talk/20111018/partition.html\nfunction Icicle(element, props) {\n  const {\n    width,\n    height,\n    data,\n    colorScheme,\n    dateTimeFormat,\n    equalDateSize,\n    levels,\n    useLogScale = false,\n    metrics = [],\n    numberFormat,\n    partitionLimit,\n    partitionThreshold,\n    useRichTooltip,\n    timeSeriesOption = 'not_time',\n    sliceId,\n  } = props;\n\n  const div = d3.select(element);\n  div.classed('superset-legacy-chart-partition', true);\n\n  // Chart options\n  const chartType = timeSeriesOption;\n  const hasTime = ['adv_anal', 'time_series'].includes(chartType);\n  const format = getNumberFormatter(numberFormat);\n  const timeFormat = getTimeFormatter(dateTimeFormat);\n  const colorFn = CategoricalColorNamespace.getScale(colorScheme);\n\n  div.selectAll('*').remove();\n  const tooltip = div.append('div').classed('partition-tooltip', true);\n\n  function hasDateNode(n) {\n    return metrics.includes(n.data.name) && hasTime;\n  }\n\n  function getCategory(depth) {\n    if (!depth) {\n      return 'Metric';\n    }\n    if (hasTime && depth === 1) {\n      return 'Date';\n    }\n\n    return levels[depth - (hasTime ? 2 : 1)];\n  }\n\n  function drawVis(i, dat) {\n    const datum = dat[i];\n    const w = width;\n    const h = height / data.length;\n    const x = d3.scale.linear().range([0, w]);\n    const y = d3.scale.linear().range([0, h]);\n\n    const viz = div\n      .append('div')\n      .attr('class', 'chart')\n      .style('width', `${w}px`)\n      .style('height', `${h}px`)\n      .append('svg:svg')\n      .attr('width', w)\n      .attr('height', h);\n\n    // Add padding between multiple visualizations\n    if (i !== data.length - 1 && data.length > 1) {\n      viz.style('padding-bottom', '3px');\n    }\n    if (i !== 0 && data.length > 1) {\n      viz.style('padding-top', '3px');\n    }\n\n    const root = hierarchy(datum);\n\n    // node.name is the metric/group name\n    // node.disp is the display value\n    // node.value determines sorting order\n    // node.weight determines partition height\n    // node.sum is the sum of children weights\n    root.eachAfter(n => {\n      n.disp = n.data.val;\n      n.value = n.disp < 0 ? -n.disp : n.disp;\n      n.weight = n.value;\n      n.name = n.data.name;\n      // If the parent is a metric and we still have\n      // the time column, perform a date-time format\n      if (n.parent && hasDateNode(n.parent)) {\n        // Format timestamp values\n        n.weight = equalDateSize ? 1 : n.value;\n        n.value = n.name;\n        n.name = timeFormat(n.name);\n      }\n      if (useLogScale) n.weight = Math.log(n.weight + 1);\n      n.disp =\n        n.disp && !Number.isNaN(n.disp) && Number.isFinite(n.disp)\n          ? format(n.disp)\n          : '';\n    });\n    // Perform sort by weight\n    root.sort((a, b) => {\n      const v = b.value - a.value;\n      if (v === 0) {\n        return b.name > a.name ? 1 : -1;\n      }\n\n      return v;\n    });\n\n    // Prune data based on partition limit and threshold\n    // both are applied at the same time\n    if (partitionThreshold && partitionThreshold >= 0) {\n      // Compute weight sums as we go\n      root.each(n => {\n        n.sum = n.children\n          ? n.children.reduce((a, v) => a + v.weight, 0) || 1\n          : 1;\n        if (n.children) {\n          // Dates are not ordered by weight\n          if (hasDateNode(n)) {\n            if (equalDateSize) {\n              return;\n            }\n            const removeIndices = [];\n            // Keep at least one child\n            for (let j = 1; j < n.children.length; j += 1) {\n              if (n.children[j].weight / n.sum < partitionThreshold) {\n                removeIndices.push(j);\n              }\n            }\n            for (let j = removeIndices.length - 1; j >= 0; j -= 1) {\n              n.children.splice(removeIndices[j], 1);\n            }\n          } else {\n            // Find first child that falls below the threshold\n            let j;\n            for (j = 1; j < n.children.length; j += 1) {\n              if (n.children[j].weight / n.sum < partitionThreshold) {\n                break;\n              }\n            }\n            n.children = n.children.slice(0, j);\n          }\n        }\n      });\n    }\n    if (partitionLimit && partitionLimit >= 0) {\n      root.each(n => {\n        if (n.children && n.children.length > partitionLimit) {\n          if (!hasDateNode(n)) {\n            n.children = n.children.slice(0, partitionLimit);\n          }\n        }\n      });\n    }\n    // Compute final weight sums\n    root.eachAfter(n => {\n      n.sum = n.children\n        ? n.children.reduce((a, v) => a + v.weight, 0) || 1\n        : 1;\n    });\n\n    function positionAndPopulate(tip, d) {\n      let t = '<table>';\n      if (useRichTooltip) {\n        const nodes = getAncestors(d);\n        nodes.reverse().forEach(n => {\n          t += '<tbody>';\n          t +=\n            '<tr>' +\n            '<td>' +\n            '<div ' +\n            `style='border: 2px solid transparent;` +\n            `background-color: ${n.color};'` +\n            '></div>' +\n            '</td>' +\n            `<td>${getCategory(n.depth)}</td>` +\n            `<td>${n.name}</td>` +\n            `<td>${n.disp}</td>` +\n            '</tr>';\n        });\n      } else {\n        t +=\n          '<thead><tr><td colspan=\"3\">' +\n          `<strong>${getCategory(d.depth)}</strong>` +\n          '</td></tr></thead><tbody>';\n        t +=\n          '<tr>' +\n          '<td>' +\n          `<div style='border: thin solid grey; background-color: ${d.color};'` +\n          '></div>' +\n          '</td>' +\n          `<td>${d.name}</td>` +\n          `<td>${d.disp}</td>` +\n          '</tr>';\n      }\n      t += '</tbody></table>';\n      const [tipX, tipY] = d3.mouse(element);\n      tip\n        .html(t)\n        .style('left', `${tipX + 15}px`)\n        .style('top', `${tipY}px`);\n    }\n\n    const nodes = init(root);\n\n    let zoomX = w / root.dx;\n    let zoomY = h / 1;\n\n    // Keep text centered in its division\n    function transform(d) {\n      return `translate(8,${(d.dx * zoomY) / 2})`;\n    }\n\n    const g = viz\n      .selectAll('g')\n      .data(nodes)\n      .enter()\n      .append('svg:g')\n      .attr('transform', d => `translate(${x(d.y)},${y(d.x)})`)\n      .on('mouseover', d => {\n        tooltip.interrupt().transition().duration(100).style('opacity', 0.9);\n        positionAndPopulate(tooltip, d);\n      })\n      .on('mousemove', d => {\n        positionAndPopulate(tooltip, d);\n      })\n      .on('mouseout', () => {\n        tooltip.interrupt().transition().duration(250).style('opacity', 0);\n      });\n\n    // When clicking a subdivision, the vis will zoom in to it\n    function click(d) {\n      if (!d.children) {\n        if (d.parent) {\n          // Clicking on the rightmost level should zoom in\n          return click(d.parent);\n        }\n\n        return false;\n      }\n      zoomX = (d.y ? w - 40 : w) / (1 - d.y);\n      zoomY = h / d.dx;\n      x.domain([d.y, 1]).range([d.y ? 40 : 0, w]);\n      y.domain([d.x, d.x + d.dx]);\n\n      const t = g\n        .transition()\n        .duration(d3.event.altKey ? 7500 : 750)\n        .attr('transform', nd => `translate(${x(nd.y)},${y(nd.x)})`);\n\n      t.select('rect')\n        .attr('width', d.dy * zoomX)\n        .attr('height', nd => nd.dx * zoomY);\n\n      t.select('text')\n        .attr('transform', transform)\n        .style('opacity', nd => (nd.dx * zoomY > 12 ? 1 : 0));\n\n      d3.event.stopPropagation();\n\n      return true;\n    }\n\n    g.on('click', click);\n\n    g.append('svg:rect')\n      .attr('width', root.dy * zoomX)\n      .attr('height', d => d.dx * zoomY);\n\n    g.append('svg:text')\n      .attr('transform', transform)\n      .attr('dy', '0.35em')\n      .style('opacity', d => (d.dx * zoomY > 12 ? 1 : 0))\n      .text(d => {\n        if (!d.disp) {\n          return d.name;\n        }\n\n        return `${d.name}: ${d.disp}`;\n      });\n\n    // Apply color scheme\n    g.selectAll('rect').style('fill', d => {\n      d.color = colorFn(d.name, sliceId, colorScheme);\n\n      return d.color;\n    });\n  }\n\n  for (let i = 0; i < data.length; i += 1) {\n    drawVis(i, data);\n  }\n}\n\nIcicle.displayName = 'Icicle';\nIcicle.propTypes = propTypes;\n\nexport default Icicle;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { reactify, styled } from '@superset-ui/core';\nimport Component from './Partition';\n\nconst ReactComponent = reactify(Component);\n\nconst Partition = ({ className, ...otherProps }) => (\n  <div className={className}>\n    <ReactComponent {...otherProps} />\n  </div>\n);\n\nexport default styled(Partition)`\n  ${({ theme }) => `\n    .superset-legacy-chart-partition {\n      position: relative;\n    }\n\n    .superset-legacy-chart-partition .chart {\n      display: block;\n      margin: auto;\n      font-size: ${theme.typography.sizes.s}px;\n    }\n\n    .superset-legacy-chart-partition rect {\n      stroke: ${theme.colors.grayscale.light2};\n      fill: ${theme.colors.grayscale.light1};\n      fill-opacity: ${theme.opacity.heavy};\n      transition: fill-opacity 180ms linear;\n      cursor: pointer;\n    }\n\n    .superset-legacy-chart-partition rect:hover {\n      fill-opacity: 1;\n    }\n\n    .superset-legacy-chart-partition g text {\n      font-weight: ${theme.typography.weights.bold};\n      fill: ${theme.colors.grayscale.dark1};\n    }\n\n    .superset-legacy-chart-partition g:hover text {\n      fill: ${theme.colors.grayscale.dark2};\n    }\n\n    .superset-legacy-chart-partition .partition-tooltip {\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      padding: ${theme.gridUnit}px;\n      pointer-events: none;\n      background-color: ${theme.colors.grayscale.dark2};\n      border-radius: ${theme.gridUnit}px;\n    }\n\n    .partition-tooltip td {\n      padding-left: ${theme.gridUnit}px;\n      font-size: ${theme.typography.sizes.s}px;\n      color: ${theme.colors.grayscale.light5};\n    }\n  `}\n`;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// eslint-disable-next-line no-restricted-syntax -- whole React import is required for `reactify.test.tsx` Jest test passing.\nimport React, { Component, ComponentClass, WeakValidationMap } from 'react';\n\n// TODO: Note that id and className can collide between Props and ReactifyProps\n// leading to (likely) unexpected behaviors. We should either require Props to not\n// contain an id/className, or not combine them (via intersection), instead preferring\n// wrapping (composition). As an example:\n// interface MyProps {\n//   id: number;\n// }\n// function myRender(container: HTMLDivElement, props: Readonly<MyProps>): void {\n//   props.id // unusable: id is string & number\n// }\n// new (reactify(myRender))({ id: 5 }); // error: id has to be string & number\n\nexport type ReactifyProps = {\n  id?: string;\n  className?: string;\n};\n\n// TODO: add more React lifecycle callbacks as needed\nexport type LifeCycleCallbacks = {\n  componentWillUnmount?: () => void;\n};\n\nexport interface RenderFuncType<Props> {\n  (container: HTMLDivElement, props: Readonly<Props & ReactifyProps>): void;\n  displayName?: string;\n  defaultProps?: Partial<Props & ReactifyProps>;\n  propTypes?: WeakValidationMap<Props & ReactifyProps>;\n}\n\nexport default function reactify<Props extends object>(\n  renderFn: RenderFuncType<Props>,\n  callbacks?: LifeCycleCallbacks,\n): ComponentClass<Props & ReactifyProps> {\n  class ReactifiedComponent extends Component<Props & ReactifyProps> {\n    container?: HTMLDivElement;\n\n    constructor(props: Props & ReactifyProps) {\n      super(props);\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n\n    componentDidMount() {\n      this.execute();\n    }\n\n    componentDidUpdate() {\n      this.execute();\n    }\n\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks?.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n\n    setContainerRef(ref: HTMLDivElement) {\n      this.container = ref;\n    }\n\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n\n    render() {\n      const { id, className } = this.props;\n\n      return <div ref={this.setContainerRef} id={id} className={className} />;\n    }\n  }\n\n  const ReactifiedClass: ComponentClass<Props & ReactifyProps> =\n    ReactifiedComponent;\n\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes,\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n\n  return ReactifiedComponent;\n}\n"],"names":["count","node","sum","children","i","length","value","hierarchy","data","Map","undefined","mapChildren","objectChildren","child","childs","n","root","Node","nodes","pop","Array","from","push","parent","depth","eachBefore","computeHeight","d","isArray","copyData","height","this","prototype","constructor","eachAfter","each","callback","that","index","call","next","find","sort","compare","path","end","start","ancestor","a","b","aNodes","ancestors","bNodes","c","leastCommonAncestor","k","splice","descendants","leaves","links","source","target","copy","Symbol","iterator","current","reverse","leafType","PropTypes","name","val","isRequired","parentShape","f","apply","arguments","lazyFunction","nodeType","propTypes","width","colorScheme","dateTimeFormat","equalDateSize","levels","metrics","numberFormat","partitionLimit","partitionThreshold","timeSeriesOption","useLogScale","useRichTooltip","Icicle","element","props","sliceId","div","d3","classed","hasTime","includes","format","getNumberFormatter","timeFormat","getTimeFormatter","colorFn","CategoricalColorNamespace","getScale","selectAll","remove","tooltip","append","hasDateNode","getCategory","drawVis","dat","datum","w","h","x","linear","range","y","viz","attr","style","positionAndPopulate","tip","t","getAncestors","forEach","color","disp","tipX","tipY","html","weight","Math","log","Number","isNaN","isFinite","v","reduce","removeIndices","j","slice","flat","dy","prev","dx","init","zoomX","zoomY","transform","g","enter","on","interrupt","transition","duration","click","domain","altKey","nd","select","stopPropagation","text","displayName","ReactComponent","reactify","Component","styled","Partition","className","otherProps","_jsx","theme","typography","sizes","s","colors","grayscale","light2","light1","opacity","heavy","weights","bold","dark1","dark2","gridUnit","light5","renderFn","callbacks","ReactifiedComponent","super","container","setContainerRef","bind","componentDidMount","execute","componentDidUpdate","componentWillUnmount","ref","render","id","ReactifiedClass","defaultProps"],"sourceRoot":""}