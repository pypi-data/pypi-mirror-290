"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[6420],{5529:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var o=s(95579),n=s(35742),a=s(96540),l=s(61225),i=s(61574),r=s(17444),u=s(95272),d=s(2445);function c(){const{clientId:e}=(0,i.g)(),t=(0,l.wA)(),[{isLoading:s,data:c,error:g},h]=(0,a.useState)({isLoading:!0,data:null,error:null});return(0,a.useEffect)((()=>{t&&e&&(t((0,u.Zt)((0,o.t)("Exporting results to Google Sheets"),{duration:0})),n.A.get({endpoint:`/api/v1/sqllab/export/${e}/google-sheets/`}).then((e=>h({data:e.json,isLoading:!1,error:null}))).catch((e=>h({data:null,isLoading:!1,error:e}))))}),[t,e]),(0,a.useEffect)((()=>{t&&g&&(async e=>{const s=(null==(e=await(null==g?void 0:g.json()))?void 0:e.message)||await(null==g?void 0:g.text())||(null==g?void 0:g.message)||(0,o.t)("Unknown error.");t((0,u.iB)(s,{duration:0}))})()}),[t,g]),(0,a.useEffect)((()=>{null!=c&&c.sheet_id&&(window.location.href=`https://docs.google.com/spreadsheets/d/${c.sheet_id}/`)}),[c]),s?(0,d.Y)(r.A,{}):null}}}]);
//# sourceMappingURL=091e2e3fc588bcb326bc.chunk.js.map