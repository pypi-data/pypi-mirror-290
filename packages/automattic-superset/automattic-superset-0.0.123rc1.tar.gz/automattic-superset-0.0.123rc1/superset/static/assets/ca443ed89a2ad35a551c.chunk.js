(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2824],{7240:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(96540),n=r(2445);function a(e,t){class r extends o.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,n.Y)("div",{ref:this.setContainerRef,id:e,className:t})}}const a=r;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes={...a.propTypes,...e.propTypes}),e.defaultProps&&(a.defaultProps=e.defaultProps),r}},13090:(e,t,r)=>{"use strict";r.d(t,{a1:()=>x,nf:()=>d.A,hq:()=>v.A,hs:()=>o,oZ:()=>n.A,XB:()=>C.A,Oj:()=>h.A,Ho:()=>m.A,mu:()=>p.A,Am:()=>A.A,aT:()=>_.A,qw:()=>g.A,lM:()=>y.A,VJ:()=>T.A,qO:()=>a.A,w_:()=>f.A,CP:()=>E.A,zM:()=>s.A,wI:()=>R.w,Ck:()=>u.A,fH:()=>P.fH,iw:()=>P.iw,LC:()=>D.A,F5:()=>F.A,RE:()=>l.A,o3:()=>S.o3,yG:()=>S.yG,nn:()=>i.A,OB:()=>S.OB,HG:()=>P.Ay,cH:()=>c.A,E2:()=>S.E2,Ob:()=>S.Ob});var o=r(94963),n=r(10526),a=r(20750),i=r(76968),s=r(54249),c=r(69161),l=r(30885),u=r(22054),d=r(94584),h=r(9755),m=r(35638),p=r(65621),A=r(32215),g=r(33269),f=r(44767),y=r(32637),_=r(67051),C=r(66361),v=r(58540),T=r(49482),E=r(20455),D=r(58966),F=r(17838),S=r(39472),R=r(63756),P=r(7148);const x="#00A699"},73865:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(35725);function n(e,t,r){let o=e,n=t(o);for(;!r(n);){if(o-=1,o<0){o=e;break}n=t(o)}return o}function a(e){const{idealFontSize:t,maxWidth:r,maxHeight:a,style:i,...s}=e;let c;if(null!=t)c=t;else{if(null==a)throw new Error("You must specify at least one of maxHeight or idealFontSize");c=Math.floor(a)}function l(e){return(0,o.A)({...s,style:{...i,fontSize:`${e}px`}})}return null!=r&&(c=n(c,l,(e=>e.width>0&&e.width<=r))),null!=a&&(c=n(c,l,(e=>e.height>0&&e.height<=a))),c}},66840:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(79305),n=r(55856),a=r(76977);function i(e,t){const{texts:r,className:i,style:s,container:c}=e,l=new Map;let u,d;l.set("",{height:0,width:0});const h=r.map((e=>{if(l.has(e))return l.get(e);u||(d=n.z.createInContainer(c),u=n.k.createInContainer(d)),(0,a.A)(u,{className:i,style:s,text:e});const r=(0,o.A)(u,t);return l.set(e,r),r}));return d&&u&&setTimeout((()=>{n.k.removeFromContainer(d),n.z.removeFromContainer(c)}),500),h}},35725:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(76977),n=r(79305),a=r(55856);function i(e,t){const{text:r,className:i,style:s,container:c}=e;if(0===r.length)return{height:0,width:0};const l=a.z.createInContainer(c),u=a.k.createInContainer(l);(0,o.A)(u,{className:i,style:s,text:r});const d=(0,n.A)(u,t);return setTimeout((()=>{a.k.removeFromContainer(l),a.z.removeFromContainer(c)}),500),d}},55856:(e,t,r)=>{"use strict";r.d(t,{z:()=>a,k:()=>i});class o{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const n="http://www.w3.org/2000/svg",a=new o((function(){const e=document.createElementNS(n,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),i=new o((function(){return document.createElementNS(n,"text")}))},79305:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const o={height:20,width:100};function n(e,t=o){const{width:r,height:n}=e.getBBox?e.getBBox():t;return{height:Math.ceil(n),width:Math.ceil(r)}}},76977:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const o=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function n(e,{className:t,style:r={},text:n}={}){const a=e;return a.textContent!==n&&(a.textContent=void 0===n?null:n),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),o.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{a.style[e]=`${r[e]}`})),a}},46785:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var o=r(96540);const n=(e,t)=>{const r=(0,o.useRef)(!1);(0,o.useEffect)((()=>{r.current?e():r.current=!0}),[...t||[e]])}},45991:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var o=r(96540);function n(e){const t=(0,o.useRef)(null),[r,n]=(0,o.useState)(!1),a=e=>{const[t]=e;n(t.intersectionRatio<1)};return(0,o.useEffect)((()=>{const r=new IntersectionObserver(a,e),o=t.current;return o&&r.observe(o),()=>{o&&r.unobserve(o)}}),[t,e]),[t,r]}},47163:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(96540);const n=()=>{const[e,t]=(0,o.useState)(0),[r,n]=(0,o.useState)(!1),a=(0,o.useRef)(null),i=(0,o.useRef)(null);return(0,o.useLayoutEffect)((()=>{var e;const r=()=>{const e=a.current;if(!e)return;const r=i.current,{scrollWidth:o,clientWidth:s,childNodes:c}=e;if(o>s){const e=6,o=(null==r?void 0:r.offsetWidth)||0,a=s-e,i=c.length;let l=0,u=0;for(let e=0;e<i;e+=1)a-l-o<=0&&(u+=1),l+=c[e].offsetWidth;i>1&&u?(n(!0),t(u)):(n(!1),t(1))}else n(!1),t(0)},o=new ResizeObserver(r),s=null==(e=a.current)?void 0:e.parentElement;return s&&o.observe(s),r(),()=>{o.disconnect()}}),[i.current]),[a,i,e,r]}},77183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>we.h4,AnnotationSourceType:()=>we.FG,AnnotationStyle:()=>we.vd,AnnotationType:()=>we.UJ,ApiLegacy:()=>o,ApiV1:()=>n,AppSection:()=>Lt.$s,AxisType:()=>Lt.Gw,BRAND_COLOR:()=>lt.a1,Behavior:()=>Lt.nS,CACHE_AVAILABLE:()=>ce.l2,CACHE_KEY:()=>ce.RU,COMMON_ERR_MESSAGES:()=>ce.HL,CategoricalAirbnb:()=>lt.nf,CategoricalBlueToGreen:()=>lt.hq,CategoricalColorNamespace:()=>lt.hs,CategoricalColorScale:()=>lt.oZ,CategoricalColorsOfRainbow:()=>lt.XB,CategoricalD3:()=>lt.Oj,CategoricalEcharts:()=>lt.Ho,CategoricalGoogle:()=>lt.mu,CategoricalLyft:()=>lt.Am,CategoricalModernSunset:()=>lt.aT,CategoricalPreset:()=>lt.qw,CategoricalPresetSuperset:()=>lt.lM,CategoricalRedToYellow:()=>lt.VJ,CategoricalScheme:()=>lt.qO,CategoricalSuperset:()=>lt.w_,CategoricalWavesOfBlue:()=>lt.CP,ChartClient:()=>Tt,ChartDataProvider:()=>Nt,ChartFrame:()=>Ut,ChartLabel:()=>Lt.jW,ChartMetadata:()=>Et.A,ChartPlugin:()=>Dt.A,ChartProps:()=>_t.A,ColorScheme:()=>lt.zM,ColorSchemeGroup:()=>lt.wI,ColorSchemeRegistry:()=>lt.Ck,ComparisonTimeRangeType:()=>ct,ComparisonType:()=>H.g1,ContributionType:()=>O.PA,CtasEnum:()=>O.Hk,CurrencyFormatter:()=>sr.A,DEFAULT_BASE_URL:()=>ce.Ql,DEFAULT_D3_FORMAT:()=>Le.w,DEFAULT_D3_TIME_FORMAT:()=>Be._,DEFAULT_FETCH_RETRY_OPTIONS:()=>ce.F_,DEFAULT_METRICS:()=>w.Cq,DTTM_ALIAS:()=>fe.Tf,DataMaskType:()=>ee.p_,DatasourceKey:()=>De.A,DatasourceType:()=>w.cT,EXTRA_FORM_DATA_APPEND_KEYS:()=>fe.t1,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>fe.KE,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>fe.zk,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>fe.E_,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>fe.DV,EmotionCacheProvider:()=>ut.jf,ErrorTypeEnum:()=>O.eK,ExtensibleFunction:()=>a.A,FAST_DEBOUNCE:()=>Xt.j,FeatureFlag:()=>F.TO,GenericDataType:()=>k.s,HTTP_STATUS_NOT_MODIFIED:()=>ce.Un,HTTP_STATUS_OK:()=>ce.rw,LOCAL_PREFIX:()=>qe.n,LabelsColorMap:()=>lt.fH,LabelsColorMapSource:()=>lt.iw,NO_TIME_RANGE:()=>fe.WC,NativeFilterType:()=>ee.EH,NumberFormats:()=>Me.A,NumberFormatter:()=>Ne.A,NumberFormatterRegistry:()=>Ie.A,OverwritePolicy:()=>c.m,PREVIEW_TIME:()=>ze.p,PREVIEW_VALUE:()=>Ne.t,PandasAxis:()=>E,Plugin:()=>i.A,Preset:()=>s.A,QueryMode:()=>I.g,QueryState:()=>O.kZ,Registry:()=>c.A,RegistryWithDefaultKey:()=>l.A,RollingType:()=>H.AA,SEPARATOR:()=>mr.wv,SLOW_DEBOUNCE:()=>Xt.Q,SMART_DATE_DETAILED_ID:()=>Ke.e,SMART_DATE_ID:()=>Ve.f,SMART_DATE_VERBOSE_ID:()=>Xe.M,SafeMarkdown:()=>$t.A,SequentialCommon:()=>lt.LC,SequentialD3:()=>lt.F5,SequentialScheme:()=>lt.RE,SuperChart:()=>Rt.A,SupersetApiError:()=>be._,SupersetApiErrorType:()=>be.w,SupersetClient:()=>ie.A,SupersetClientClass:()=>se.A,ThemeProvider:()=>ut.NP,TimeFormats:()=>qe.A,TimeFormatter:()=>ze.A,TimeGranularity:()=>et.i,TooltipFrame:()=>Wt,TooltipTable:()=>Kt,TypedRegistry:()=>u.A,WithLegend:()=>Bt,__hack_reexport_AdvancedAnalytics:()=>H.Ay,__hack_reexport_Column:()=>b.Ay,__hack_reexport_Dashboard:()=>ee.Ay,__hack_reexport_Datasource:()=>w.Ay,__hack_reexport_Metric:()=>N.Ay,__hack_reexport_Query:()=>O.Ay,__hack_reexport_QueryFormData:()=>I.A,__hack_reexport_QueryResponse:()=>k.A,__hack_reexport_Time:()=>te,__hack_reexport_chart_Base:()=>Lt.Ay,__hack_reexport_chart_QueryResponse:()=>It,__hack_reexport_chart_TransformFunction:()=>Ot,__hack_reexport_connection:()=>le,__hack_reexport_dimension:()=>st,__hack_reexport_jed:()=>oe,__hack_reexport_translation:()=>ne,addAlpha:()=>lt.o3,addLocaleData:()=>re.Mo,addTranslation:()=>re.XY,addTranslations:()=>re.um,buildCustomFormatters:()=>cr.Xc,buildQueryContext:()=>ye.A,buildQueryObject:()=>_e.A,callApi:()=>ae.A,chartLabelExplanations:()=>Lt.HE,chartLabelWeight:()=>Lt.l7,checkForHtml:()=>xe.bY,computeCustomDateTime:()=>hr.M9,computeMaxFontSize:()=>ot.A,concludedQueryStateList:()=>O.tG,configure:()=>re.jK,convertFilter:()=>Ce.A,convertKeysToCamelCase:()=>d.A,createD3NumberFormatter:()=>ke.A,createD3TimeFormatter:()=>Qe.A,createDurationFormatter:()=>He.A,createEmotionCache:()=>ut.An,createLoadableRenderer:()=>Ft.A,createMultiFormatter:()=>We.A,createSiAtMostNDigitFormatter:()=>Ye,createSmartDateDetailedFormatter:()=>Ke.K,createSmartDateFormatter:()=>Ve.m,createSmartDateVerboseFormatter:()=>Xe.k,createSmartNumberFormatter:()=>je.A,css:()=>ut.AH,customTimeRangeDecode:()=>pr.t,defineSharedModule:()=>ue.zW,defineSharedModules:()=>ue.mg,denormalizeTimestamp:()=>Ze,emotionCache:()=>ut.gF,ensureIsArray:()=>h.A,ensureIsInt:()=>m.A,evalExpression:()=>Jt.p,extractQueryFields:()=>Re.A,extractTimegrain:()=>ve.A,fetchTimeRange:()=>mr.x9,finestTemporalGrainFormatter:()=>$e.A,formatNumber:()=>Oe.ZV,formatTime:()=>Ge.fU,formatTimeRange:()=>Ge.sH,getAnalogousColors:()=>lt.yG,getCategoricalSchemeRegistry:()=>lt.nn,getChartBuildQueryRegistry:()=>Ct.A,getChartComponentRegistry:()=>Pt.A,getChartControlPanelRegistry:()=>xt.A,getChartMetadataRegistry:()=>vt.A,getChartTransformPropsRegistry:()=>wt.A,getClientErrorMessage:()=>xe.hi,getClientErrorObject:()=>xe.h4,getColumnLabel:()=>Te.A,getComparisonFilters:()=>ur,getComparisonInfo:()=>dr,getContrastingColor:()=>lt.OB,getCurrencySymbol:()=>sr.Q,getCustomFormatter:()=>cr.Em,getErrorFromStatusCode:()=>xe.q2,getErrorText:()=>xe.ER,getExtensionsRegistry:()=>Zt.a,getLabelsColorMap:()=>lt.HG,getMetricLabel:()=>Ee.A,getMultipleTextDimensions:()=>rt.A,getNumberFormatter:()=>Oe.gV,getNumberFormatterRegistry:()=>Oe.Ay,getParagraphContents:()=>P.Vi,getSelectedText:()=>D.j,getSequentialSchemeRegistry:()=>lt.cH,getTextDimension:()=>tt.A,getTimeFormatter:()=>Ge.mo,getTimeFormatterForGranularity:()=>Ge.PT,getTimeFormatterRegistry:()=>Ge.Ay,getTimeOffset:()=>hr.TX,getTimeRangeFormatter:()=>Ge.$K,getValueFormatter:()=>cr.gC,getXAxisColumn:()=>Pe.Od,getXAxisLabel:()=>Pe.yj,hasHtmlTagPattern:()=>P.Id,hexToRgb:()=>lt.E2,initFeatureFlags:()=>F.Aq,isAdhocColumn:()=>b.q0,isAdhocMetricSQL:()=>N.WL,isAdhocMetricSimple:()=>N.IN,isBinaryAdhocFilter:()=>M.bo,isBinaryOperator:()=>L.UH,isDefined:()=>p.A,isEqualArray:()=>g.A,isEventAnnotationLayer:()=>we.Tw,isFeatureEnabled:()=>F.G7,isFilterDivider:()=>ee.O2,isFormulaAnnotationLayer:()=>we.Bg,isFreeFormAdhocFilter:()=>M.wF,isIntervalAnnotationLayer:()=>we.Cv,isJsonString:()=>P.Eo,isNativeFilter:()=>ee.qQ,isNativeFilterWithDataMask:()=>ee.ee,isPhysicalColumn:()=>b.eh,isPostProcessingAggregation:()=>U,isPostProcessingBoxplot:()=>Y,isPostProcessingCompare:()=>W,isPostProcessingContribution:()=>j,isPostProcessingCum:()=>Q,isPostProcessingDiff:()=>B,isPostProcessingFlatten:()=>$,isPostProcessingHistogram:()=>Z,isPostProcessingPivot:()=>q,isPostProcessingProphet:()=>z,isPostProcessingRank:()=>J,isPostProcessingRename:()=>X,isPostProcessingResample:()=>K,isPostProcessingRolling:()=>G,isPostProcessingSort:()=>V,isProbablyHTML:()=>P.fE,isQueryFormColumn:()=>b.x$,isQueryFormMetric:()=>N.Pr,isRecordAnnotationResult:()=>we.mI,isRequired:()=>A.A,isSavedMetric:()=>N.S_,isSetAdhocFilter:()=>M.M6,isSetOperator:()=>L.jy,isSimpleAdhocFilter:()=>M.md,isTableAnnotationLayer:()=>we.n2,isTimeseriesAnnotationLayer:()=>we.No,isTimeseriesAnnotationResult:()=>we.f3,isUnaryAdhocFilter:()=>M.TI,isUnaryOperator:()=>L.Gq,isValidExpression:()=>Jt.$,isXAxisSet:()=>Pe.aj,jsx:()=>ut.Y,keyframes:()=>ut.i7,legacyValidateInteger:()=>dt.A,legacyValidateNumber:()=>ht.A,logging:()=>_.A,lruCache:()=>T,makeApi:()=>pe.A,makeSingleton:()=>f.A,mergeMargin:()=>at,normalizeOrderBy:()=>Fe.A,normalizeTimeColumn:()=>Se.j,normalizeTimestamp:()=>Je.A,parseDttmToDate:()=>hr.cy,parseErrorJson:()=>xe.io,parseLength:()=>it.A,parseStringResponse:()=>xe.A8,promiseTimeout:()=>y,reactify:()=>St.A,removeDuplicates:()=>C.A,removeHTMLTags:()=>P.zF,reset:()=>ue.cL,resetTranslation:()=>re.Fh,retrieveErrorMessage:()=>xe.ei,rgbToHex:()=>lt.Ob,runningQueryStateList:()=>O.P7,safeHtmlSpan:()=>P.nn,sanitizeHtml:()=>P.pn,sanitizeHtmlIfNeeded:()=>P.pU,seed:()=>S.c,seedRandom:()=>S.d,setD3Format:()=>Oe.rl,styled:()=>ut.I4,supersetTheme:()=>ut.TT,t:()=>re.t,testQuery:()=>O.hd,testQueryResponse:()=>O.aW,testQueryResults:()=>O.X,tn:()=>re.tn,tooltipHtml:()=>x.L,truncationCSS:()=>ir.P,typedMemo:()=>R.v,useCSSTextTruncation:()=>ir.A,useChangeEffect:()=>er.h,useComponentDidMount:()=>tr.B,useComponentDidUpdate:()=>rr.n,useElementOnScreen:()=>or.N,usePrevious:()=>nr.Z,useTheme:()=>ut.DP,useTruncation:()=>ar.A,validateInteger:()=>mt.A,validateMapboxStylesUrl:()=>ft.A,validateMaxValue:()=>gt.A,validateNonEmpty:()=>At.A,validateNumber:()=>pt.A,validateTimeComparisonRangeValues:()=>yt,withTheme:()=>ut.SL});var o={};r.r(o),r.d(o,{__hack_reexport_query_api_legacy:()=>me,getDatasourceMetadata:()=>he,getFormData:()=>de});var n={};r.r(n),r.d(n,{default:()=>ge,getChartData:()=>Ae});var a=r(4923),i=r(9569),s=r(11869),c=r(25373),l=r(79953),u=r(44711),d=r(75451),h=r(62952),m=r(12),p=r(13270),A=r(85678),g=r(65482),f=r(70360);function y(e,t){return new Promise((r=>{setTimeout((()=>{r(e())}),t)}))}var _=r(5362),C=r(64389);class v{constructor(e){if(this.cache=void 0,this.capacity=void 0,e<1)throw new Error("The capacity in LRU must be greater than 0.");this.capacity=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");if(this.cache.has(e)){const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}set(e,t){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");this.cache.size>=this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}clear(){this.cache.clear()}get size(){return this.cache.size}}function T(e=100){return new v(e)}var E,D=r(51609),F=r(27366),S=r(37820),R=r(10873),P=r(58642),x=r(96088),w=r(5795),b=r(70700),M=r(808),N=r(91778),L=r(57246),O=r(69108),I=r(79758),k=r(87903),H=r(48822);function U(e){return"aggregation"===(null==e?void 0:e.operation)}function Y(e){return"boxplot"===(null==e?void 0:e.operation)}function j(e){return"contribution"===(null==e?void 0:e.operation)}function q(e){return"pivot"===(null==e?void 0:e.operation)}function z(e){return"prophet"===(null==e?void 0:e.operation)}function B(e){return"diff"===(null==e?void 0:e.operation)}function G(e){return"rolling"===(null==e?void 0:e.operation)}function Q(e){return"cum"===(null==e?void 0:e.operation)}function W(e){return"compare"===(null==e?void 0:e.operation)}function V(e){return"sort"===(null==e?void 0:e.operation)}function K(e){return"resample"===(null==e?void 0:e.operation)}function X(e){return"rename"===(null==e?void 0:e.operation)}function $(e){return"flatten"===(null==e?void 0:e.operation)}function J(e){return"rank"===(null==e?void 0:e.operation)}function Z(e){return"histogram"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(E||(E={}));var ee=r(73992);const te={};var re=r(95579);const oe={},ne={};var ae=r(60771),ie=r(35742),se=r(90752),ce=r(1639);const le={};var ue=r(72557);function de({client:e=ie.A,sliceId:t,overrideFormData:r,requestConfig:o}){const n=e.get({endpoint:`/api/v1/form_data/?slice_id=${t}`,...o}).then((({json:e})=>e));return r?n.then((e=>({...e,...r}))):n}function he({client:e=ie.A,datasourceKey:t,requestConfig:r}){return e.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${t}`,...r}).then((e=>e.json))}const me={};var pe=r(93505);const Ae=(0,pe.A)({method:"POST",endpoint:"/api/v1/chart/data"}),ge={getChartData:Ae};var fe=r(96627),ye=r(1889),_e=r(26632),Ce=r(39131),ve=r(1055),Te=r(86444),Ee=r(36770),De=r(83942),Fe=r(21408),Se=r(96590),Re=r(46302),Pe=r(38677),xe=r(51436),we=r(2090),be=r(71130),Me=r(53682),Ne=r(17652),Le=r(38409),Oe=r(32142),Ie=r(22191),ke=r(67438),He=r(86518),Ue=r(34410);function Ye(e={}){const{description:t,n:r=3,id:o,label:n}=e,a=(0,Ue.GP)(`.${r}s`);return new Ne.A({description:t,formatFunc:e=>{const t=a(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=o?o:`si_at_most_${r}_digit`,label:null!=n?n:`SI with at most ${r} significant digits`})}var je=r(80552),qe=r(85170),ze=r(73091),Be=r(62457),Ge=r(7349),Qe=r(2482),We=r(49327),Ve=r(47952),Ke=r(5632),Xe=r(58928),$e=r(94465),Je=r(81550);function Ze(e){const t=e.match(Je.W);return t?`${t[1]}T${t[2]}`:e}var et=r(81468),tt=r(35725),rt=r(66840),ot=r(73865);function nt(e,t=0,r=0){return Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function at(e={},t={},r="expand"){const{top:o,left:n,bottom:a,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:nt(s,a,t.bottom),left:nt(s,n,t.left),right:nt(s,i,t.right),top:nt(s,o,t.top)}}var it=r(91249);const st={};var ct,lt=r(13090),ut=r(96453),dt=r(49953),ht=r(53674),mt=r(95776),pt=r(83957),At=r(82920),gt=r(99947),ft=r(7036);!function(e){e.Custom="c",e.InheritedRange="r",e.Month="m",e.Week="w",e.Year="y"}(ct||(ct={}));const yt=(e,t)=>{const r=e===ct.Custom,o=null==t?void 0:t.every((e=>0===(0,h.A)(e).length));return r&&o?[(0,re.t)("Filters for comparison must have a value")]:[]};var _t=r(54111),Ct=r(81998),vt=r(80145);class Tt{constructor(e={}){this.client=void 0;const{client:t=ie.A}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,o=(0,vt.A)(),n=(0,Ct.A)();if(o.has(r)){var a;const{useLegacyApi:i}=o.get(r),s=null!=(a=await n.get(r))?a:()=>e,c=i?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(c).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,p.A)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,o)=>{const n=e;return n[r.name]=t[o],n}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((([t,r,o])=>({annotationData:t,datasource:r,formData:e,queriesData:o})))))}}var Et=r(13708),Dt=r(78410),Ft=r(11460),St=r(7240),Rt=r(28846),Pt=r(27577),xt=r(18253),wt=r(40012),bt=r(96540);class Mt extends bt.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:o}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,o)]).then((([e,r])=>({datasource:e,formData:t,queriesData:r}))))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new Tt({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:o}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:o});default:return null}}}const Nt=Mt;var Lt=r(58863);const Ot={},It={};var kt=r(2445);function Ht(e){return(0,p.A)(e)&&"number"==typeof e}class Ut extends bt.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:o,renderContent:n}=this.props,a=Ht(e)&&e>r,i=Ht(t)&&t>o;return a||i?(0,kt.Y)("div",{style:{height:o,overflowX:a?"auto":"hidden",overflowY:i?"auto":"hidden",width:r},children:n({height:Math.max(null!=t?t:0,o),width:Math.max(null!=e?e:0,r)})}):n({height:o,width:r})}}Ut.defaultProps={renderContent(){}};var Yt=r(56324);const jt={display:"flex",flexGrow:0,flexShrink:0,order:-1},qt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class zt extends bt.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:o,position:n,renderChart:a,renderLegend:i}=this.props,s="left"===n||"right"===n,c={display:"flex",flexDirection:this.getContainerDirection(),height:o,width:r},l={...qt};s?l.width=0:l.height=0;const u=s?"column":"row",d={...jt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,kt.FD)("div",{className:`with-legend ${e}`,style:c,children:[i&&(0,kt.Y)("div",{className:"legend-container",style:d,children:i({direction:u})}),(0,kt.Y)("div",{className:"main-container",style:l,children:(0,kt.Y)(Yt.A,{debounceTime:t,children:e=>e.width>0&&e.height>0?a(e):null})})]})}}zt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const Bt=zt,Gt={padding:8};class Qt extends bt.PureComponent{render(){const{className:e,children:t}=this.props;return(0,kt.Y)("div",{className:e,style:Gt,children:t})}}Qt.defaultProps={className:""};const Wt=Qt,Vt={paddingLeft:8,textAlign:"right"};class Kt extends bt.PureComponent{render(){const{className:e,data:t}=this.props;return(0,kt.Y)("table",{className:e,children:(0,kt.Y)("tbody",{children:t.map((({key:e,keyColumn:t,keyStyle:r,valueColumn:o,valueStyle:n})=>(0,kt.FD)("tr",{children:[(0,kt.Y)("td",{style:r,children:null!=t?t:e}),(0,kt.Y)("td",{style:n?{...Vt,...n}:Vt,children:o})]},e)))})})}}Kt.defaultProps={className:"",data:[]};var Xt=r(87843),$t=r(16784),Jt=r(36673),Zt=r(72391),er=r(45905),tr=r(93211),rr=r(46785),or=r(45991),nr=r(83505),ar=r(47163),ir=r(37827),sr=r(57940),cr=r(95034);const lr=(e,t)=>{var r,o,n;const a=null!=(r=null==(o=e.adhoc_filters)?void 0:o.findIndex((e=>"operator"in e&&"TEMPORAL_RANGE"===e.operator)))?r:-1,i=-1!==a&&e.adhoc_filters?e.adhoc_filters[a]:null;i&&"comparator"in i&&"string"==typeof i.comparator&&null!=t&&t.time_range&&(i.comparator=t.time_range);const s=i?[i]:[],c=null==(n=e.adhoc_filters)?void 0:n.filter(((e,t)=>a!==t));return c?[...s,...c]:s},ur=lr,dr=(e,t,r)=>{let o;return o=t!==ct.Custom?{...e,adhoc_filters:lr(e,r),extra_form_data:{...r,time_range:void 0}}:{...e,adhoc_filters:e.adhoc_custom,extra_form_data:{...r,time_range:void 0}},o};var hr=r(49277),mr=r(77189),pr=r(13686)},94465:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(82692),n=r(94387),a=r(73091);function i(e,t=!1){const r=t?o.DC:o.aL,i=r("%Y-%m-%d %H:%M:%S.%L"),s=r("%Y-%m-%d %H:%M:%S"),c=r("%Y-%m-%d %H:%M"),l=r("%Y-%m-%d %H:%M"),u=r("%Y-%m-%d"),d=r("%Y-%m-%d"),h=r("%Y"),{hasMillisecond:m,hasSecond:p,hasMinute:A,hasHour:g,isNotFirstDayOfMonth:f,isNotFirstMonth:y}=t?n.m:n.w;let _=h;return e.forEach((e=>{_===h&&y(e)&&(_=d),_===d&&f(e)&&(_=u),_===u&&g(e)&&(_=l),_===l&&A(e)&&(_=c),_===c&&p(e)&&(_=s),_===s&&m(e)&&(_=i)})),new a.A({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:_,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},51609:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});const o=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},37820:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,d:()=>i});var o=r(7391),n=r.n(o);function a(e){return n()(e)}function i(){return n()("superset-ui")()}},10873:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});const o=r(96540).memo},41234:()=>{}}]);
//# sourceMappingURL=ca443ed89a2ad35a551c.chunk.js.map