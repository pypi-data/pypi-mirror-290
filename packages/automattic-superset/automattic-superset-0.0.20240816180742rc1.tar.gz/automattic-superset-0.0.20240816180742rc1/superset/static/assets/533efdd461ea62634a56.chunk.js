"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2623],{45906:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var o=s(61988),n=s(31069),l=s(67294),a=s(28216),r=s(16550),i=s(38703),u=s(72570),d=s(11965);function c(){const{clientId:e}=(0,r.UO)(),t=(0,a.I0)(),[{isLoading:s,data:c,error:g},h]=(0,l.useState)({isLoading:!0,data:null,error:null});return(0,l.useEffect)((()=>{t&&e&&(t((0,u.bM)((0,o.t)("Exporting results to Google Sheets"),{duration:0})),n.Z.get({endpoint:`/api/v1/sqllab/export/${e}/google-sheets/`}).then((e=>h({data:e.json,isLoading:!1,error:null}))).catch((e=>h({data:null,isLoading:!1,error:e}))))}),[t,e]),(0,l.useEffect)((()=>{t&&g&&(async e=>{const s=(null==(e=await(null==g?void 0:g.json()))?void 0:e.message)||await(null==g?void 0:g.text())||(null==g?void 0:g.message)||(0,o.t)("Unknown error.");t((0,u.Gb)(s,{duration:0}))})()}),[t,g]),(0,l.useEffect)((()=>{null!=c&&c.sheet_id&&(window.location.href=`https://docs.google.com/spreadsheets/d/${c.sheet_id}/`)}),[c]),s?(0,d.tZ)(i.Z,null):null}}}]);
//# sourceMappingURL=533efdd461ea62634a56.chunk.js.map