{"version":3,"file":"lib_index_js.2b203fb5900a07fa18ec.js","mappings":"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","sources":["webpack://ndp-jupyterlab-extension/./src/handler.ts","webpack://ndp-jupyterlab-extension/./src/index.ts","webpack://ndp-jupyterlab-extension/./src/utils.ts","webpack://ndp-jupyterlab-extension/./src/widget.ts","webpack://ndp-jupyterlab-extension/./src/workspaceUtils.ts"],"sourcesContent":["import { URLExt } from '@jupyterlab/coreutils';\n\nimport { ServerConnection } from '@jupyterlab/services';\n\n/**\n * Call the API extension\n *\n * @param endPoint API REST end point for the extension\n * @param init Initial values for the request\n * @returns The response body interpreted as JSON\n */\nexport async function requestAPI<T>(\n  endPoint = '',\n  init: RequestInit = {}\n): Promise<T> {\n  // Make request to Jupyter API\n  const settings = ServerConnection.makeSettings();\n  const requestUrl = URLExt.join(\n    settings.baseUrl,\n    'ndp-jupyterlab-extension', // API Namespace\n    endPoint\n  );\n\n  let response: Response;\n  try {\n    response = await ServerConnection.makeRequest(requestUrl, init, settings);\n  } catch (error) {\n    throw new ServerConnection.NetworkError(error as any);\n  }\n\n  let data: any = await response.text();\n\n  if (data.length > 0) {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      console.log('Not a JSON response body.', response);\n    }\n  }\n\n  if (!response.ok) {\n    throw new ServerConnection.ResponseError(response, data.message || data);\n  }\n\n  return data;\n}\n","import {\n  ILabShell,\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\n\nimport { IDefaultFileBrowser } from '@jupyterlab/filebrowser';\nimport { NDPWidget } from './widget';\n\n/**\n * Initialization data for the main menu example.\n */\nconst extension: JupyterFrontEndPlugin<void> = {\n  id: '@jupyterlab-examples/main-menu:plugin',\n  description: 'Minimal JupyterLab example adding a menu.',\n  autoStart: true,\n  requires: [IDefaultFileBrowser, ILabShell],\n  activate: (\n    app: JupyterFrontEnd,\n    defaultBrowser: IDefaultFileBrowser,\n    labShell: ILabShell\n  ) => {\n    const { commands } = app;\n    const widget = new NDPWidget(defaultBrowser, commands);\n    labShell.add(widget, 'left');\n    app.restored.then(() => {\n      labShell.activateById(widget.id);\n    });\n  }\n};\n\nexport default extension;\n","export function createElementWithClass(tag: string, className: string): HTMLElement {\n  const element = document.createElement(tag);\n  element.className = className;\n  return element;\n}\n","import { Widget } from '@lumino/widgets';\nimport { IDefaultFileBrowser } from '@jupyterlab/filebrowser';\nimport { requestAPI } from './handler';\nimport { JupyterFrontEnd } from '@jupyterlab/application';\nimport { createElementWithClass } from './utils';\nimport { Workspace, fetchWorkspaces } from './workspaceUtils';\n\nexport class NDPWidget extends Widget {\n  private spinner: HTMLElement;\n  private dropdownWorkspaces: HTMLSelectElement;\n  private dropdownDatasets: HTMLSelectElement;\n  private fileBrowser: IDefaultFileBrowser;\n  private pathDisplay: HTMLElement;\n  private spinnerContainer: HTMLElement;\n  private pathDisplayTitle: HTMLElement;\n  private pathDisplayContainer: HTMLElement;\n  private workspaces: Workspace[] = [];\n\n  constructor(\n    defaultBrowser: IDefaultFileBrowser,\n    private commands: JupyterFrontEnd['commands']\n  ) {\n    super();\n    this.fileBrowser = defaultBrowser;\n\n    this.addClass('jp-example-view');\n    this.id = 'ndp-widget';\n    this.title.label = 'NDP';\n    this.title.closable = true;\n\n    const ndpLink = this.createNDPLogo();\n\n    defaultBrowser.model.pathChanged.connect((sender, args) => {\n      const currentPath = this.fileBrowser.model.path;\n      this.updatePathDisplay(currentPath);\n    });\n\n    const buttonFileManager = this.createButton(\n      'File Manager',\n      this._onGoToFileManagerButtonClick.bind(this)\n    );\n    const buttonGitExtension = this.createButton(\n      'GIT Extension',\n      this._onGoToGitExtensionButtonClick.bind(this)\n    );\n    const buttonDownload = this.createButton(\n      'Download Selected Dataset',\n      this._onButtonDownloadClick.bind(this)\n    );\n    const buttonInstall = this.createButton(\n      'Install requirements.txt',\n      this._onButtonInstallClick.bind(this)\n    );\n    const buttonGetWorkspacesData = this.createButton(\n      'Refresh',\n      this._onButtonGetWorkspacesDataClick.bind(this)\n    );\n\n    this.dropdownWorkspaces = createElementWithClass(\n      'select',\n      'ndp-dropdown'\n    ) as HTMLSelectElement;\n    this.dropdownDatasets = createElementWithClass(\n      'select',\n      'ndp-dropdown'\n    ) as HTMLSelectElement;\n\n    this.spinnerContainer = createElementWithClass('div', 'spinner-container');\n    this.spinner = createElementWithClass('div', 'spinner');\n    this.spinner.style.display = 'none';\n\n    this.pathDisplayContainer = createElementWithClass(\n      'div',\n      'path-display-container'\n    );\n    this.pathDisplayTitle = createElementWithClass('div', 'path-display-title');\n    this.pathDisplayTitle.textContent = 'Current Folder:';\n    this.pathDisplay = createElementWithClass('div', 'path-display-path');\n\n    this.spinnerContainer.appendChild(this.spinner);\n    this.pathDisplayContainer.addEventListener(\n      'click',\n      this._onGoToFileManagerButtonClick.bind(this)\n    );\n\n    this.updatePathDisplay();\n\n    const container = this.createContainer([\n      this.createHeader('Utilities'),\n      buttonFileManager,\n      buttonGitExtension,\n      buttonInstall,\n      this.createHeader('My Current Workspace'),\n      this.dropdownWorkspaces,\n      buttonGetWorkspacesData,\n      this.createHeader('Items in the Current Workspace'),\n      this.dropdownDatasets,\n      buttonDownload\n    ]);\n\n    this.node.appendChild(ndpLink);\n    this.node.appendChild(container);\n    this.node.appendChild(this.spinnerContainer);\n    this.pathDisplayContainer.appendChild(this.pathDisplayTitle);\n    this.pathDisplayContainer.appendChild(this.pathDisplay);\n    this.node.appendChild(this.pathDisplayContainer);\n\n    this._getWorkspacesData();\n\n    this.dropdownWorkspaces.addEventListener('change', () => {\n      this.updateDatasetsDropdown();\n    });\n  }\n\n  private createNDPLogo(): HTMLAnchorElement {\n    const ndpMapImg = createElementWithClass(\n      'img',\n      'ndp-logo-map'\n    ) as HTMLImageElement;\n    ndpMapImg.src = '../style/ndp-landing-image.png1';\n    const ndpLettersImg = createElementWithClass(\n      'img',\n      'ndp-logo'\n    ) as HTMLImageElement;\n    ndpLettersImg.src = '../style/ndp_logo.png';\n    const ndpLink = createElementWithClass('a', '') as HTMLAnchorElement;\n    ndpLink.href = 'https://ndp-test.sdsc.edu';\n    ndpLink.target = '_blank';\n    ndpLink.appendChild(ndpMapImg);\n    ndpLink.appendChild(ndpLettersImg);\n    return ndpLink;\n  }\n\n  private createButton(\n    text: string,\n    onClick: (event: Event) => void\n  ): HTMLButtonElement {\n    const button = createElementWithClass(\n      'button',\n      'ndp-button'\n    ) as HTMLButtonElement;\n    button.textContent = text;\n    button.addEventListener('click', onClick);\n    return button;\n  }\n\n  private createHeader(text: string): HTMLDivElement {\n    const header = createElementWithClass('div', 'headers') as HTMLDivElement;\n    header.textContent = text;\n    return header;\n  }\n\n  private createContainer(elements: HTMLElement[]): HTMLDivElement {\n    const container = createElementWithClass('div', 'ndp-button-container');\n    elements.forEach(element => container.appendChild(element));\n    return <HTMLDivElement>container;\n  }\n\n  private _onGoToFileManagerButtonClick(event: Event): void {\n    this.commands.execute('filebrowser:activate');\n  }\n\n  private _onGoToGitExtensionButtonClick(event: Event): void {\n    this.commands.execute('git:ui');\n  }\n\n  private async _onButtonDownloadClick(event: Event): Promise<void> {\n    this.spinner.style.display = 'block';\n    const currentPath = this.fileBrowser.model.path;\n    const selectedDataset = this.dropdownDatasets.value;\n\n    try {\n      const data = await requestAPI<any>('download_datasets', {\n        method: 'POST',\n        body: JSON.stringify({ path: currentPath, dataset: selectedDataset })\n      });\n      console.log(data);\n    } catch (reason) {\n      console.error(\n        `The ndp_jupyterlab_extension server extension appears to be missing.\\n${reason}`\n      );\n    } finally {\n      this.spinner.style.display = 'none';\n    }\n  }\n\n  private async _onButtonInstallClick(event: Event): Promise<void> {\n    this.spinner.style.display = 'block';\n    const currentPath = this.fileBrowser.model.path;\n\n    try {\n      const data = await requestAPI<any>('install_requirements', {\n        method: 'POST',\n        body: JSON.stringify({ path: currentPath })\n      });\n      console.log(data);\n    } catch (reason) {\n      console.error(\n        `The ndp_jupyterlab_extension server extension appears to be missing.\\n${reason}`\n      );\n    } finally {\n      this.spinner.style.display = 'none';\n    }\n  }\n\n  private async _getWorkspacesData(): Promise<void> {\n    try {\n      this.workspaces = await fetchWorkspaces();\n      this.updateWorkspacesDropdown();\n    } catch (error) {\n      console.error('Error fetching workspaces:', error);\n    }\n  }\n\n  private async _onButtonGetWorkspacesDataClick(event: Event): Promise<void> {\n    this.spinner.style.display = 'block';\n    try {\n      await this._getWorkspacesData();\n    } catch (reason) {\n      console.error(\n        `The ndp_jupyterlab_extension server extension appears to be missing.\\n${reason}`\n      );\n    } finally {\n      this.spinner.style.display = 'none';\n    }\n  }\n\n  private updateWorkspacesDropdown(): void {\n    this.dropdownWorkspaces.innerHTML = '';\n    const sortedWorkspaces = this.workspaces.sort((a, b) =>\n      a.workspace_name.localeCompare(b.workspace_name)\n    );\n\n    sortedWorkspaces.forEach(workspace => {\n      const option = document.createElement('option');\n      option.value = workspace.workspace_name;\n      option.textContent = workspace.workspace_name;\n      this.dropdownWorkspaces.appendChild(option);\n    });\n\n    this.updateDatasetsDropdown();\n  }\n\n  private updateDatasetsDropdown(): void {\n    const selectedWorkspaceName = this.dropdownWorkspaces.value;\n    const selectedWorkspace = this.workspaces.find(\n      workspace => workspace.workspace_name === selectedWorkspaceName\n    );\n\n    if (selectedWorkspace) {\n      this.dropdownDatasets.innerHTML = '';\n      const sortedDatasets = selectedWorkspace.datasets.sort((a, b) =>\n        a.localeCompare(b)\n      );\n\n      sortedDatasets.forEach(dataset => {\n        const option = document.createElement('option');\n        option.value = dataset;\n        option.textContent = dataset;\n        this.dropdownDatasets.appendChild(option);\n      });\n    }\n  }\n\n  private updatePathDisplay(path?: string): void {\n    const currentPath = path || this.fileBrowser.model.path;\n    this.pathDisplay.textContent =\n      currentPath === '' ? 'root/' : `root/${currentPath}`;\n  }\n}\n","import { requestAPI } from './handler';\n\nexport interface Workspace {\n  workspace_name: string;\n  datasets: string[];\n}\n\nexport async function fetchWorkspaces(): Promise<Workspace[]> {\n  try {\n    const workspaces = await requestAPI<Workspace[]>('get_workspaces_data', {\n      method: 'GET'\n    });\n    return workspaces;\n  } catch (error) {\n    console.error('Error fetching workspaces:', error);\n    throw error;\n  }\n}\n"],"names":[],"sourceRoot":""}