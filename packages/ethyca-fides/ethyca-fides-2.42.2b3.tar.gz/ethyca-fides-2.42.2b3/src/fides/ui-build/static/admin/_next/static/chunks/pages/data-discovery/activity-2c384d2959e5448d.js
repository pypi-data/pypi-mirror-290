(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7477],{96539:function(e,t,i){var r=i(77400).Symbol;e.exports=r},99736:function(e,t,i){var r=i(96539),n=i(34840),s=i(21258),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?n(e):s(e)}},39120:function(e,t,i){var r="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=r},34840:function(e,t,i){var r=i(96539),n=Object.prototype,s=n.hasOwnProperty,o=n.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),i=e[a];try{e[a]=void 0;var r=!0}catch(e){}var n=o.call(e);return r&&(t?e[a]=i:delete e[a]),n}},21258:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77400:function(e,t,i){var r=i(39120),n="object"==typeof self&&self&&self.Object===Object&&self,s=r||n||Function("return this")();e.exports=s},19785:function(e){var t=Array.isArray;e.exports=t},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,i){var r=i(99736),n=i(92360);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},45550:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/activity",function(){return i(62509)}])},79711:function(e,t,i){"use strict";i.d(t,{q:function(){return n}});var r=i(24246);let n=(0,i(17749).IUT)({displayName:"TrashCanOutlineIcon",viewBox:"0 0 11 12",path:(0,r.jsx)("path",{d:"M4.5166 1.60859L4.1084 2.21875H7.22363L6.81543 1.60859C6.7832 1.56133 6.72949 1.53125 6.67148 1.53125H4.6584C4.60039 1.53125 4.54668 1.55918 4.51445 1.60859H4.5166ZM7.6748 1.03711L8.46328 2.21875H8.75977H9.79102H9.96289C10.2486 2.21875 10.4785 2.44863 10.4785 2.73438C10.4785 3.02012 10.2486 3.25 9.96289 3.25H9.79102V9.78125C9.79102 10.7309 9.02188 11.5 8.07227 11.5H3.25977C2.31016 11.5 1.54102 10.7309 1.54102 9.78125V3.25H1.36914C1.0834 3.25 0.853516 3.02012 0.853516 2.73438C0.853516 2.44863 1.0834 2.21875 1.36914 2.21875H1.54102H2.57227H2.86875L3.65723 1.03496C3.88066 0.701953 4.25664 0.5 4.6584 0.5H6.67148C7.07324 0.5 7.44922 0.701953 7.67266 1.03496L7.6748 1.03711ZM2.57227 3.25V9.78125C2.57227 10.1615 2.87949 10.4688 3.25977 10.4688H8.07227C8.45254 10.4688 8.75977 10.1615 8.75977 9.78125V3.25H2.57227ZM4.29102 4.625V9.09375C4.29102 9.28281 4.13633 9.4375 3.94727 9.4375C3.7582 9.4375 3.60352 9.28281 3.60352 9.09375V4.625C3.60352 4.43594 3.7582 4.28125 3.94727 4.28125C4.13633 4.28125 4.29102 4.43594 4.29102 4.625ZM6.00977 4.625V9.09375C6.00977 9.28281 5.85508 9.4375 5.66602 9.4375C5.47695 9.4375 5.32227 9.28281 5.32227 9.09375V4.625C5.32227 4.43594 5.47695 4.28125 5.66602 4.28125C5.85508 4.28125 6.00977 4.43594 6.00977 4.625ZM7.72852 4.625V9.09375C7.72852 9.28281 7.57383 9.4375 7.38477 9.4375C7.1957 9.4375 7.04102 9.28281 7.04102 9.09375V4.625C7.04102 4.43594 7.1957 4.28125 7.38477 4.28125C7.57383 4.28125 7.72852 4.43594 7.72852 4.625Z",fill:"currentColor"})})},37344:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var r=i(24246),n=i(17749),s=i(19785),o=i.n(s),a=i(27378),l=i(79894),c=i.n(l),u=e=>{let{breadcrumbs:t}=e;return(0,r.jsx)(n.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:t.map((e,i)=>{let s=i+1===t.length,o=!!e.link||!!e.onClick;return(0,r.jsx)(n.gN6,{color:s||e.isOpaque?"black":"gray.500",children:o?(0,r.jsx)(n.Atw,{as:c(),href:e.link,isCurrentPage:s,children:e.title}):(0,r.jsx)(n.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:s,children:e.title})},e.title)})})},d=e=>{let{breadcrumbs:t,isSticky:i=!0,children:s,...l}=e;return(0,r.jsxs)(n.xuv,{bgColor:"white",paddingY:5,...i?{position:"sticky",top:0,left:0,zIndex:10}:{},...l,children:[o()(t)&&(0,r.jsx)(n.xuv,{marginBottom:s?4:0,children:(0,r.jsx)(u,{breadcrumbs:t})}),(0,a.isValidElement)(t)&&t,s]})}},12916:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var r=i(24246),n=i(17749),s=i(27378),o=i(65399),a=i(51394);let l=(0,n.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,r.jsx)("g",{"clip-path":"url(#clip0_341_3102)",children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_341_3102",children:(0,r.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),c=(0,n.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,r.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});i(79711);var u=i(35682),d=i(6111),L=i(59104),x=i(52962),f=e=>{let{resource:t}=e,i=(0,x.G)(t),[f]=(0,d.v8)(),[j]=(0,d.vi)(),[p]=(0,d.Tl)(),{successAlert:C}=(0,o.VY)(),[g,h]=(0,s.useState)(!1),{diff_status:v,child_diff_statuses:I}=t;if(i===L.X.DATABASE)return null;let A=i===L.X.SCHEMA,_=i===L.X.FIELD,m=A&&void 0===v||!_&&v===a.LL.ADDITION,T=v!==a.LL.MUTED,H=v===a.LL.MUTED,b=v===a.LL.MONITORED&&I&&(I[a.LL.ADDITION]||I[a.LL.REMOVAL]);return(0,r.jsxs)(n.Ugi,{onClick:e=>e.stopPropagation(),children:[m&&(0,r.jsx)(u.Z,{title:"Monitor",icon:(0,r.jsx)(c,{}),onClick:async()=>{h(!0),await f({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),C("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored.")),h(!1)},disabled:g}),H&&(0,r.jsx)(u.Z,{title:"Monitor",icon:A?(0,r.jsx)(c,{}):(0,r.jsx)(n.ONd,{}),onClick:async()=>{h(!0),await p({staged_resource_urn:t.urn}),C("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored.")),h(!1)},disabled:g}),b&&(0,r.jsx)(u.Z,{title:"Confirm",icon:(0,r.jsx)(n.nQG,{}),onClick:async()=>{h(!0),await f({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id}),h(!1)},disabled:g}),!1,T&&(0,r.jsx)(u.Z,{title:"Ignore",icon:A?(0,r.jsx)(l,{}):(0,r.jsx)(n.tpL,{}),onClick:async()=>{h(!0),await j({staged_resource_urn:t.urn}),h(!1)},disabled:g}),g?(0,r.jsx)(n.X40,{position:"static"}):null]})}},37429:function(e,t,i){"use strict";var r=i(24246),n=i(17749),s=i(27378),o=i(51394),a=i(35682),l=i(6111),c=i(59104),u=i(52962);t.Z=e=>{let{resource:t}=e,i=(0,u.G)(t),[d]=(0,l.cM)(),[L]=(0,l.vi)(),[x,f]=(0,s.useState)(!1),{diff_status:j,child_diff_statuses:p}=t;if(i===c.X.DATABASE)return null;let C=j===o.LL.CLASSIFICATION_ADDITION||j===o.LL.CLASSIFICATION_UPDATE,g=p&&(p[o.LL.CLASSIFICATION_ADDITION]||p[o.LL.CLASSIFICATION_UPDATE]),h=C||g,v=C||g;return(0,r.jsxs)(n.Ugi,{onClick:e=>e.stopPropagation(),children:[h&&(0,r.jsx)(a.Z,{title:"Confirm",icon:(0,r.jsx)(n.nQG,{}),onClick:async()=>{f(!0),await d({staged_resource_urn:t.urn}),f(!1)},disabled:x}),v&&(0,r.jsx)(a.Z,{title:"Ignore",icon:(0,r.jsx)(n.tpL,{}),onClick:async()=>{f(!0),await L({staged_resource_urn:t.urn}),f(!1)},disabled:x}),x?(0,r.jsx)(n.X40,{position:"static"}):null]})}},22236:function(e,t,i){"use strict";var r,n;i.d(t,{z:function(){return r}}),(n=r||(r={})).DATASET="Dataset",n.CLASSIFICATION="Classification"},63969:function(e,t,i){"use strict";var r=i(51557),n=i(58525),s=i(22236);t.Z=e=>(0,n.Z)(e)===r.E.CLASSIFICATION?s.z.CLASSIFICATION:s.z.DATASET},62509:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var r=i(24246),n=i(27378),s=i(65464),o=i(37344),a=i(38637),l=i(92222),c=i(59003),u=i(17749),d=i(52850),L=i(98320),x=i(6111),f=i(87573),j=i(21635),p=i(36986),C=i(71329),g=i(12916),h=i(37429),v=i(22770),I=i(22236),A=i(15025),_=i(63969);let m={items:[],total:0,page:1,size:50,pages:1},T=()=>(0,r.jsx)(u.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,r.jsxs)(u.gCW,{children:[(0,r.jsx)(u.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,r.jsx)(u.xvT,{fontSize:"sm",children:"You're up to date!"})]})}),H=(0,l.Cl)();var b=e=>{let{onRowClick:t,statusFilters:i,childsStatusFilters:s}=e,[o,a]=(0,n.useState)(""),{PAGE_SIZES:b,pageSize:S,setPageSize:y,onPreviousPageClick:D,isPreviousPageDisabled:O,onNextPageClick:Z,isNextPageDisabled:N,startRange:w,endRange:M,pageIndex:E,setTotalPages:V}=(0,d.oi)(),{isFetching:k,isLoading:P,data:R}=(0,x.z8)({diff_status:i,child_diff_status:s,page:E,size:S,search:o}),{items:F,total:z,pages:U}=(0,n.useMemo)(()=>null!=R?R:m,[R]);(0,n.useEffect)(()=>{V(U)},[U,V]);let G=(0,n.useMemo)(()=>[H.accessor(e=>e.name,{id:"name",cell:e=>(0,r.jsx)(p.Z,{result:e.row.original}),header:e=>(0,r.jsx)(d.Rr,{value:"Name",...e})}),H.accessor(e=>e.urn,{id:"project",cell:e=>(0,r.jsx)(d.G3,{value:(0,A.Z)(e.getValue())}),header:e=>(0,r.jsx)(d.Rr,{value:"Project",...e})}),H.display({id:"status",cell:e=>(0,r.jsx)(j.Z,{result:e.row.original}),header:e=>(0,r.jsx)(d.Rr,{value:"Status",...e})}),H.accessor(e=>(0,_.Z)(e),{id:"type",cell:e=>(0,r.jsx)(d.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(d.Rr,{value:"Type",...e})}),H.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,r.jsx)(d.G3,{value:e.getValue()}),header:e=>(0,r.jsx)(d.Rr,{value:"Detected by",...e})}),H.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,r.jsx)(L.Cy,{time:e.getValue()}),header:e=>(0,r.jsx)(d.Rr,{value:"When",...e})}),H.accessor(e=>e,{id:"action",cell:e=>(0,_.Z)(e.getValue())===I.z.DATASET?(0,r.jsx)(g.Z,{resource:e.getValue()}):(0,r.jsx)(h.Z,{resource:e.getValue()}),header:e=>(0,r.jsx)(d.Rr,{value:"Action",...e})})],[]),X=(0,c.b7)({getCoreRowModel:(0,l.sC)(),getGroupedRowModel:(0,l.qe)(),getExpandedRowModel:(0,l.rV)(),getRowId:C.Z,columns:G,manualPagination:!0,data:F});return P?(0,r.jsx)(d.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Q$,{children:(0,r.jsxs)(u.kCb,{gap:6,align:"center",children:[(0,r.jsx)(u.xuv,{w:400,flexShrink:0,children:(0,r.jsx)(v.M,{value:o,onChange:a})}),(0,r.jsx)(f.Z,{})]})}),(0,r.jsx)(d.ZK,{tableInstance:X,onRowClick:t,emptyTableNotice:(0,r.jsx)(T,{})}),(0,r.jsx)(d.s8,{totalRows:z,pageSizes:b,setPageSize:y,onPreviousPageClick:D,isPreviousPageDisabled:O||k,onNextPageClick:Z,isNextPageDisabled:N||k,startRange:w,endRange:M})]})},S=i(51394),y=()=>{let{navigateToDetectionResults:e,navigateToDiscoveryResults:t}=(0,a.Z)();return(0,r.jsxs)(s.Z,{title:"Data discovery",mainProps:{padding:"0 40px 48px"},children:[(0,r.jsx)(o.Z,{breadcrumbs:[{title:"Detection & discovery",isOpaque:!0},{title:"All activity"}]}),(0,r.jsx)(b,{onRowClick:i=>{if((0,_.Z)(i)===I.z.DATASET){e({resourceUrn:i.urn});return}t({resourceUrn:i.urn})},statusFilters:[S.LL.ADDITION,S.LL.REMOVAL,S.LL.CLASSIFICATION_ADDITION,S.LL.CLASSIFICATION_UPDATE],childsStatusFilters:[S.LL.ADDITION,S.LL.REMOVAL,S.LL.CLASSIFICATION_ADDITION,S.LL.CLASSIFICATION_UPDATE]})]})}}},function(e){e.O(0,[6451,2850,9068,2888,9774,179],function(){return e(e.s=45550)}),_N_E=e.O()}]);