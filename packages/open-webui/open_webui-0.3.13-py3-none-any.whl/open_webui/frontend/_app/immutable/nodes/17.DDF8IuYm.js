import{s as Ql,B as Ht,e as d,k,t as R,c as p,a as m,o as E,A as nr,b as M,d as c,f as o,C as be,I as $l,i as z,g as a,J as ol,u as q,D as es,h as B,E as tr,H as mn,F as Ml,j as Pr,p as ts,q as rs,n as _n,K as ns,y as cl,z as fl,L as ul,l as dl,N as ls}from"../chunks/scheduler.Cl9X4YvR.js";import{S as ss,i as as,f as rr,b as pt,d as ht,m as mt,t as ve,a as Ne,c as pl,e as gt,g as hl}from"../chunks/index.17nGNPUc.js";import{e as Ut}from"../chunks/each.CkG3AUsD.js";import{t as ml}from"../chunks/Toaster.svelte_svelte_type_style_lang.DRDY174b.js";import{g as gl}from"../chunks/entry.BrdRaZnW.js";import{m as _l,t as is,f as os}from"../chunks/index.CSQ2Iz6a.js";import{a as cs}from"../chunks/index.BAEiPg7y.js";import{g as fs}from"../chunks/index.DrSlEjeh.js";import{A as us}from"../chunks/AdvancedParams.BsTqbej7.js";import{C as ds}from"../chunks/Checkbox.01_7u39K.js";import{T as ps}from"../chunks/Tags.DAvL1ei1.js";import{K as hs,T as ms,F as gs,A as _s}from"../chunks/ActionsSelector.Cqba0x-x.js";import"../chunks/postcss.Dy4Gq739.js";import{g as vs}from"../chunks/_commonjsHelpers.BosuxZz1.js";function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}function gn(e,t){return Array(t+1).join(e)}function ws(e){return e.replace(/^\n*/,"")}function ys(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var ks=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function vn(e){return bn(e,ks)}var Ll=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Bl(e){return bn(e,Ll)}function Es(e){return Ul(e,Ll)}var Hl=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Is(e){return bn(e,Hl)}function Ts(e){return Ul(e,Hl)}function bn(e,t){return t.indexOf(e.nodeName)>=0}function Ul(e,t){return e.getElementsByTagName&&t.some(function(r){return e.getElementsByTagName(r).length})}var ne={};ne.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};ne.lineBreak={filter:"br",replacement:function(e,t,r){return r.br+`
`}};ne.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,r){var n=Number(t.nodeName.charAt(1));if(r.headingStyle==="setext"&&n<3){var l=gn(n===1?"=":"-",e.length);return`

`+e+`
`+l+`

`}else return`

`+gn("#",n)+" "+e+`

`}};ne.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};ne.list={filter:["ul","ol"],replacement:function(e,t){var r=t.parentNode;return r.nodeName==="LI"&&r.lastElementChild===t?`
`+e:`

`+e+`

`}};ne.listItem={filter:"li",replacement:function(e,t,r){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var n=r.bulletListMarker+"   ",l=t.parentNode;if(l.nodeName==="OL"){var s=l.getAttribute("start"),h=Array.prototype.indexOf.call(l.children,t);n=(s?Number(s)+h:h+1)+".  "}return n+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};ne.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,r){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};ne.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,r){for(var n=t.firstChild.getAttribute("class")||"",l=(n.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,h=r.fence.charAt(0),y=3,w=new RegExp("^"+h+"{3,}","gm"),I;I=w.exec(s);)I[0].length>=y&&(y=I[0].length+1);var D=gn(h,y);return`

`+D+l+`
`+s.replace(/\n$/,"")+`
`+D+`

`}};ne.horizontalRule={filter:"hr",replacement:function(e,t,r){return`

`+r.hr+`

`}};ne.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var r=t.getAttribute("href");r&&(r=r.replace(/([()])/g,"\\$1"));var n=Fr(t.getAttribute("title"));return n&&(n=' "'+n.replace(/"/g,'\\"')+'"'),"["+e+"]("+r+n+")"}};ne.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,r){var n=t.getAttribute("href"),l=Fr(t.getAttribute("title"));l&&(l=' "'+l+'"');var s,h;switch(r.linkReferenceStyle){case"collapsed":s="["+e+"][]",h="["+e+"]: "+n+l;break;case"shortcut":s="["+e+"]",h="["+e+"]: "+n+l;break;default:var y=this.references.length+1;s="["+e+"]["+y+"]",h="["+y+"]: "+n+l}return this.references.push(h),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};ne.emphasis={filter:["em","i"],replacement:function(e,t,r){return e.trim()?r.emDelimiter+e+r.emDelimiter:""}};ne.strong={filter:["strong","b"],replacement:function(e,t,r){return e.trim()?r.strongDelimiter+e+r.strongDelimiter:""}};ne.code={filter:function(e){var t=e.previousSibling||e.nextSibling,r=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!r},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",r="`",n=e.match(/`+/gm)||[];n.indexOf(r)!==-1;)r=r+"`";return r+t+e+t+r}};ne.image={filter:"img",replacement:function(e,t){var r=Fr(t.getAttribute("alt")),n=t.getAttribute("src")||"",l=Fr(t.getAttribute("title")),s=l?' "'+l+'"':"";return n?"!["+r+"]("+n+s+")":""}};function Fr(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function xl(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}xl.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=dn(this.array,e,this.options))||(t=dn(this._keep,e,this.options))||(t=dn(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function dn(e,t,r){for(var n=0;n<e.length;n++){var l=e[n];if(As(l,t,r))return l}}function As(e,t,r){var n=e.filter;if(typeof n=="string"){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof n=="function"){if(n.call(e,t,r))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Ds(e){var t=e.element,r=e.isBlock,n=e.isVoid,l=e.isPre||function(O){return O.nodeName==="PRE"};if(!(!t.firstChild||l(t))){for(var s=null,h=!1,y=null,w=vl(y,t,l);w!==t;){if(w.nodeType===3||w.nodeType===4){var I=w.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!h&&I[0]===" "&&(I=I.substr(1)),!I){w=pn(w);continue}w.data=I,s=w}else if(w.nodeType===1)r(w)||w.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,h=!1):n(w)||l(w)?(s=null,h=!0):s&&(h=!1);else{w=pn(w);continue}var D=vl(y,w,l);y=w,w=D}s&&(s.data=s.data.replace(/ $/,""),s.data||pn(s))}}function pn(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function vl(e,t,r){return e&&e.parentNode===t||r(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var wn=typeof window<"u"?window:{};function Ns(){var e=wn.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Cs(){var e=function(){};return Ss()?e.prototype.parseFromString=function(t){var r=new window.ActiveXObject("htmlfile");return r.designMode="on",r.open(),r.write(t),r.close(),r}:e.prototype.parseFromString=function(t){var r=document.implementation.createHTMLDocument("");return r.open(),r.write(t),r.close(),r},e}function Ss(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{wn.ActiveXObject&&(e=!0)}return e}var Vs=Ns()?wn.DOMParser:Cs();function Os(e,t){var r;if(typeof e=="string"){var n=Ps().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");r=n.getElementById("turndown-root")}else r=e.cloneNode(!0);return Ds({element:r,isBlock:vn,isVoid:Bl,isPre:t.preformattedCode?Fs:null}),r}var hn;function Ps(){return hn=hn||new Vs,hn}function Fs(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Rs(e,t){return e.isBlock=vn(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Ms(e),e.flankingWhitespace=Ls(e,t),e}function Ms(e){return!Bl(e)&&!Is(e)&&/^\s*$/i.test(e.textContent)&&!Es(e)&&!Ts(e)}function Ls(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var r=Bs(e.textContent);return r.leadingAscii&&bl("left",e,t)&&(r.leading=r.leadingNonAscii),r.trailingAscii&&bl("right",e,t)&&(r.trailing=r.trailingNonAscii),{leading:r.leading,trailing:r.trailing}}function Bs(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function bl(e,t,r){var n,l,s;return e==="left"?(n=t.previousSibling,l=/ $/):(n=t.nextSibling,l=/^ /),n&&(n.nodeType===3?s=l.test(n.nodeValue):r.preformattedCode&&n.nodeName==="CODE"?s=!1:n.nodeType===1&&!vn(n)&&(s=l.test(n.textContent))),s}var Hs=Array.prototype.reduce,Us=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Rr(e){if(!(this instanceof Rr))return new Rr(e);var t={rules:ne,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(r,n){return n.isBlock?`

`:""},keepReplacement:function(r,n){return n.isBlock?`

`+n.outerHTML+`

`:n.outerHTML},defaultReplacement:function(r,n){return n.isBlock?`

`+r+`

`:r}};this.options=bs({},t,e),this.rules=new xl(this.options)}Rr.prototype={turndown:function(e){if(!zs(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=Wl.call(this,new Os(e,this.options));return xs.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Us.reduce(function(t,r){return t.replace(r[0],r[1])},e)}};function Wl(e){var t=this;return Hs.call(e.childNodes,function(r,n){n=new Rs(n,t.options);var l="";return n.nodeType===3?l=n.isCode?n.nodeValue:t.escape(n.nodeValue):n.nodeType===1&&(l=Ws.call(t,n)),zl(r,l)},"")}function xs(e){var t=this;return this.rules.forEach(function(r){typeof r.append=="function"&&(e=zl(e,r.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Ws(e){var t=this.rules.forNode(e),r=Wl.call(this,e),n=e.flankingWhitespace;return(n.leading||n.trailing)&&(r=r.trim()),n.leading+t.replacement(r,e,this.options)+n.trailing}function zl(e,t){var r=ys(e),n=ws(t),l=Math.max(e.length-r.length,t.length-n.length),s=`

`.substring(0,l);return r+s+n}function zs(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var Xl={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(e){(function(t){t(typeof DO_NOT_EXPORT_CRC>"u"?e:{})})(function(t){t.version="1.2.2";function r(){for(var g=0,U=new Array(256),_=0;_!=256;++_)g=_,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,U[_]=g;return typeof Int32Array<"u"?new Int32Array(U):U}var n=r();function l(g){var U=0,_=0,T=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)N[T]=g[T];for(T=0;T!=256;++T)for(_=g[T],U=256+T;U<4096;U+=256)_=N[U]=_>>>8^g[_&255];var V=[];for(T=1;T!=16;++T)V[T-1]=typeof Int32Array<"u"?N.subarray(T*256,T*256+256):N.slice(T*256,T*256+256);return V}var s=l(n),h=s[0],y=s[1],w=s[2],I=s[3],D=s[4],O=s[5],b=s[6],P=s[7],le=s[8],W=s[9],f=s[10],H=s[11],X=s[12],G=s[13],se=s[14];function ce(g,U){for(var _=U^-1,T=0,N=g.length;T<N;)_=_>>>8^n[(_^g.charCodeAt(T++))&255];return~_}function he(g,U){for(var _=U^-1,T=g.length-15,N=0;N<T;)_=se[g[N++]^_&255]^G[g[N++]^_>>8&255]^X[g[N++]^_>>16&255]^H[g[N++]^_>>>24]^f[g[N++]]^W[g[N++]]^le[g[N++]]^P[g[N++]]^b[g[N++]]^O[g[N++]]^D[g[N++]]^I[g[N++]]^w[g[N++]]^y[g[N++]]^h[g[N++]]^n[g[N++]];for(T+=15;N<T;)_=_>>>8^n[(_^g[N++])&255];return~_}function qe(g,U){for(var _=U^-1,T=0,N=g.length,V=0,me=0;T<N;)V=g.charCodeAt(T++),V<128?_=_>>>8^n[(_^V)&255]:V<2048?(_=_>>>8^n[(_^(192|V>>6&31))&255],_=_>>>8^n[(_^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,me=g.charCodeAt(T++)&1023,_=_>>>8^n[(_^(240|V>>8&7))&255],_=_>>>8^n[(_^(128|V>>2&63))&255],_=_>>>8^n[(_^(128|me>>6&15|(V&3)<<4))&255],_=_>>>8^n[(_^(128|me&63))&255]):(_=_>>>8^n[(_^(224|V>>12&15))&255],_=_>>>8^n[(_^(128|V>>6&63))&255],_=_>>>8^n[(_^(128|V&63))&255]);return~_}t.table=n,t.bstr=ce,t.buf=he,t.str=qe})})(Xl);const wl=vs(Xl),Xs=async e=>{if(e.type==="application/json")return await Js(e);if(e.type==="image/png")return await qs(e);throw new Error("Unsupported file type")},Js=async e=>{const t=await e.text(),r=JSON.parse(t),n=Jl(r);return{file:e,json:r,formats:ql(r),character:n}},qs=async e=>{const t=await e.arrayBuffer(),r=Gs(t),n=JSON.parse(r),l=URL.createObjectURL(e),s=Jl(n);return{file:e,json:n,image:l,formats:ql(n),character:s}},Gs=e=>{const t="chara",n=Ks(new Uint8Array(e)).filter(l=>l.type==="tEXt").map(l=>Ys(l.data)).find(l=>l.keyword===t);if(!n)throw new Error(`No PNG text chunk named "${t}" found`);try{return new TextDecoder().decode(Uint8Array.from(atob(n.text),l=>l.charCodeAt(0)))}catch(l){throw new Error('Unable to parse "chara" field as base64',l)}},Ks=e=>{if(!(e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71&&e[4]===13&&e[5]===10&&e[6]===26&&e[7]===10))throw new Error("Invalid PNG file");let r=[],n=8;for(;n<e.length;){let l=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],s=String.fromCharCode.apply(null,e.slice(n+4,n+8)),h=e.slice(n+8,n+8+l),y=e[n+8+l]<<24|e[n+8+l+1]<<16|e[n+8+l+2]<<8|e[n+8+l+3];if(wl.buf(h,wl.str(s))!==y)throw new Error(`Invalid CRC for chunk type "${s}"`);r.push({type:s,data:h,crc:y}),n+=12+l}return r},Ys=e=>{let t=0;const r=[],n=[];for(;t<e.length&&e[t]!==0;t++)r.push(String.fromCharCode(e[t]));for(t++;t<e.length;t++)n.push(String.fromCharCode(e[t]));return{keyword:r.join(""),text:n.join("")}},Jl=e=>{function t(w,I){return I.map(D=>{const O=D.split(".");let b=w;for(const P of O)if(b&&b[P]!=null)b=b[P];else{b=null;break}return b&&b.trim()}).find(D=>D)}const r=t(e,["char_name","name","data.name"]),n=t(e,["personality","title","data.description"]),l=t(e,["char_persona","description","data.personality"]),s=t(e,["world_scenario","scenario","data.scenario"]),h=t(e,["char_greeting","greeting","first_mes","data.first_mes"]),y=t(e,["example_dialogue","mes_example","definition","data.mes_example"]);return{name:r,summary:n,personality:l,scenario:s,greeting:h,examples:y}},ql=e=>{const t=[];return e.char_name&&e.char_persona&&e.world_scenario&&e.char_greeting&&e.example_dialogue&&t.push("Text Generation Character"),e.name&&e.personality&&e.description&&e.scenario&&e.first_mes&&e.mes_example&&t.push("TavernAI Character"),e.character&&e.character.name&&e.character.title&&e.character.description&&e.character.greeting&&e.character.definition&&t.push("CharacterAI Character"),e.info&&e.info.character&&e.info.character.name&&e.info.character.title&&e.info.character.description&&e.info.character.greeting&&t.push("CharacterAI History"),t};function yl(e,t,r){const n=e.slice();return n[51]=t[r],n}function kl(e,t,r){const n=e.slice();return n[54]=t[r],n[55]=t,n[56]=r,n}function El(e,t,r){const n=e.slice();return n[57]=t[r],n}function js(e){let t,r;return{c(){t=cl("svg"),r=cl("path"),this.h()},l(n){t=fl(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=m(t);r=fl(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(r).forEach(c),l.forEach(c),this.h()},h(){o(r,"fill-rule","evenodd"),o(r,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),o(r,"clip-rule","evenodd"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"viewBox","0 0 24 24"),o(t,"fill","currentColor"),o(t,"class","size-8")},m(n,l){z(n,t,l),a(t,r)},p:_n,d(n){n&&c(t)}}}function Zs(e){let t,r;return{c(){t=d("img"),this.h()},l(n){t=p(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ul(t.src,r=e[7].meta.profile_image_url)||o(t,"src",r),o(t,"alt","modelfile profile"),o(t,"class","rounded-full size-16 object-cover")},m(n,l){z(n,t,l)},p(n,l){l[0]&16512&&!ul(t.src,r=n[7].meta.profile_image_url)&&o(t,"src",r)},d(n){n&&c(t)}}}function Il(e){let t,r=e[57].name+"",n,l;return{c(){t=d("option"),n=R(r),this.h()},l(s){t=p(s,"OPTION",{class:!0});var h=m(t);n=M(h,r),h.forEach(c),this.h()},h(){t.__value=l=e[57].id,be(t,t.__value),o(t,"class","text-gray-900")},m(s,h){z(s,t,h),a(t,n)},p(s,h){h[0]&16384&&r!==(r=s[57].name+"")&&B(n,r),h[0]&16384&&l!==(l=s[57].id)&&(t.__value=l,be(t,t.__value))},d(s){s&&c(t)}}}function Qs(e){let t,r=e[15].t("Custom")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Custom")+"")&&B(n,r)},d(l){l&&c(t)}}}function $s(e){let t,r=e[15].t("Default")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Default")+"")&&B(n,r)},d(l){l&&c(t)}}}function Tl(e){let t,r,n,l;return{c(){t=d("textarea"),this.h()},l(s){t=p(s,"TEXTAREA",{class:!0,placeholder:!0,row:!0}),m(t).forEach(c),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(t,"placeholder",r=e[15].t("Add a short description about what this model does")),o(t,"row","3")},m(s,h){z(s,t,h),be(t,e[7].meta.description),n||(l=q(t,"input",e[31]),n=!0)},p(s,h){h[0]&32768&&r!==(r=s[15].t("Add a short description about what this model does"))&&o(t,"placeholder",r),h[0]&16512&&be(t,s[7].meta.description)},d(s){s&&c(t),n=!1,l()}}}function ea(e){let t,r=e[15].t("Show")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Show")+"")&&B(n,r)},d(l){l&&c(t)}}}function ta(e){let t,r=e[15].t("Hide")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Hide")+"")&&B(n,r)},d(l){l&&c(t)}}}function Al(e){let t,r,n,l;function s(y){e[34](y)}let h={admin:!0};return e[8]!==void 0&&(h.params=e[8]),r=new us({props:h}),Ht.push(()=>rr(r,"params",s)),r.$on("change",e[35]),{c(){t=d("div"),pt(r.$$.fragment),this.h()},l(y){t=p(y,"DIV",{class:!0});var w=m(t);ht(r.$$.fragment,w),w.forEach(c),this.h()},h(){o(t,"class","my-2")},m(y,w){z(y,t,w),mt(r,t,null),l=!0},p(y,w){const I={};!n&&w[0]&256&&(n=!0,I.params=y[8],tr(()=>n=!1)),r.$set(I)},i(y){l||(ve(r.$$.fragment,y),l=!0)},o(y){Ne(r.$$.fragment,y),l=!1},d(y){y&&c(t),gt(r)}}}function ra(e){let t,r=e[15].t("Custom")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Custom")+"")&&B(n,r)},d(l){l&&c(t)}}}function na(e){let t,r=e[15].t("Default")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Default")+"")&&B(n,r)},d(l){l&&c(t)}}}function Dl(e){let t,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',n,l;return{c(){t=d("button"),t.innerHTML=r,this.h()},l(s){t=p(s,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),nr(t)!=="svelte-1syph4x"&&(t.innerHTML=r),this.h()},h(){o(t,"class","p-1 px-2 text-xs flex rounded transition"),o(t,"type","button")},m(s,h){z(s,t,h),n||(l=q(t,"click",e[37]),n=!0)},p:_n,d(s){s&&c(t),n=!1,l()}}}function Nl(e){let t;function r(s,h){return s[7].meta.suggestion_prompts.length>0?sa:la}let n=r(e),l=n(e);return{c(){t=d("div"),l.c(),this.h()},l(s){t=p(s,"DIV",{class:!0});var h=m(t);l.l(h),h.forEach(c),this.h()},h(){o(t,"class","flex flex-col space-y-1 mt-2")},m(s,h){z(s,t,h),l.m(t,null)},p(s,h){n===(n=r(s))&&l?l.p(s,h):(l.d(1),l=n(s),l&&(l.c(),l.m(t,null)))},d(s){s&&c(t),l.d()}}}function la(e){let t,r="No suggestion prompts";return{c(){t=d("div"),t.textContent=r,this.h()},l(n){t=p(n,"DIV",{class:!0,"data-svelte-h":!0}),nr(t)!=="svelte-18dnedh"&&(t.textContent=r),this.h()},h(){o(t,"class","text-xs text-center")},m(n,l){z(n,t,l)},p:_n,d(n){n&&c(t)}}}function sa(e){let t,r=Ut(e[7].meta.suggestion_prompts),n=[];for(let l=0;l<r.length;l+=1)n[l]=Cl(kl(e,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=dl()},l(l){for(let s=0;s<n.length;s+=1)n[s].l(l);t=dl()},m(l,s){for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(l,s);z(l,t,s)},p(l,s){if(s[0]&32896){r=Ut(l[7].meta.suggestion_prompts);let h;for(h=0;h<r.length;h+=1){const y=kl(l,r,h);n[h]?n[h].p(y,s):(n[h]=Cl(y),n[h].c(),n[h].m(t.parentNode,t))}for(;h<n.length;h+=1)n[h].d(1);n.length=r.length}},d(l){l&&c(t),mn(n,l)}}}function Cl(e){let t,r,n,l,s,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,w,I;function D(){e[38].call(r,e[55],e[56])}function O(){return e[39](e[56])}return{c(){t=d("div"),r=d("input"),l=k(),s=d("button"),s.innerHTML=h,y=k(),this.h()},l(b){t=p(b,"DIV",{class:!0});var P=m(t);r=p(P,"INPUT",{class:!0,placeholder:!0}),l=E(P),s=p(P,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),nr(s)!=="svelte-svd6gc"&&(s.innerHTML=h),y=E(P),P.forEach(c),this.h()},h(){o(r,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),o(r,"placeholder",n=e[15].t("Write a prompt suggestion (e.g. Who are you?)")),o(s,"class","px-2"),o(s,"type","button"),o(t,"class","flex border dark:border-gray-600 rounded-lg")},m(b,P){z(b,t,P),a(t,r),be(r,e[54].content),a(t,l),a(t,s),a(t,y),w||(I=[q(r,"input",D),q(s,"click",O)],w=!0)},p(b,P){e=b,P[0]&32768&&n!==(n=e[15].t("Write a prompt suggestion (e.g. Who are you?)"))&&o(r,"placeholder",n),P[0]&16512&&r.value!==e[54].content&&be(r,e[54].content)},d(b){b&&c(t),w=!1,Ml(I)}}}function Sl(e){let t,r,n,l,s=e[15].t(e[51])+"",h,y,w;function I(...D){return e[44](e[51],...D)}return r=new ds({props:{state:e[9][e[51]]?"checked":"unchecked"}}),r.$on("change",I),{c(){t=d("div"),pt(r.$$.fragment),n=k(),l=d("div"),h=R(s),y=k(),this.h()},l(D){t=p(D,"DIV",{class:!0});var O=m(t);ht(r.$$.fragment,O),n=E(O),l=p(O,"DIV",{class:!0});var b=m(l);h=M(b,s),b.forEach(c),y=E(O),O.forEach(c),this.h()},h(){o(l,"class","py-0.5 text-sm w-full capitalize"),o(t,"class","flex items-center gap-2")},m(D,O){z(D,t,O),mt(r,t,null),a(t,n),a(t,l),a(l,h),a(t,y),w=!0},p(D,O){e=D;const b={};O[0]&512&&(b.state=e[9][e[51]]?"checked":"unchecked"),r.$set(b),(!w||O[0]&33280)&&s!==(s=e[15].t(e[51])+"")&&B(h,s)},i(D){w||(ve(r.$$.fragment,D),w=!0)},o(D){Ne(r.$$.fragment,D),w=!1},d(D){D&&c(t),gt(r)}}}function aa(e){let t,r=e[15].t("Show")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Show")+"")&&B(n,r)},d(l){l&&c(t)}}}function ia(e){let t,r=e[15].t("Hide")+"",n;return{c(){t=d("span"),n=R(r),this.h()},l(l){t=p(l,"SPAN",{class:!0});var s=m(t);n=M(s,r),s.forEach(c),this.h()},h(){o(t,"class","ml-2 self-center")},m(l,s){z(l,t,s),a(t,n)},p(l,s){s[0]&32768&&r!==(r=l[15].t("Hide")+"")&&B(n,r)},d(l){l&&c(t)}}}function Vl(e){let t,r,n;return{c(){t=d("div"),r=d("textarea"),this.h()},l(l){t=p(l,"DIV",{});var s=m(t);r=p(s,"TEXTAREA",{class:!0,rows:!0}),m(r).forEach(c),s.forEach(c),this.h()},h(){o(r,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(r,"rows","10"),r.value=n=JSON.stringify(e[7],null,2),r.disabled=!0,r.readOnly=!0},m(l,s){z(l,t,s),a(t,r)},p(l,s){s[0]&16512&&n!==(n=JSON.stringify(l[7],null,2))&&(r.value=n)},d(l){l&&c(t)}}}function Ol(e){let t,r=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){t=d("div"),t.innerHTML=r,this.h()},l(n){t=p(n,"DIV",{class:!0,"data-svelte-h":!0}),nr(t)!=="svelte-qf5fty"&&(t.innerHTML=r),this.h()},h(){o(t,"class","ml-1.5 self-center")},m(n,l){z(n,t,l)},d(n){n&&c(t)}}}function oa(e){var Vn,On;let t,r,n,l,s,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',y,w,I=e[15].t("Back")+"",D,O,b,P,le,W,f,H,X,G,se,ce=e[15].t("Name")+"",he,qe,g,U,_,T,N,V,me,rt=e[15].t("Model ID")+"",_t,xt,Wt,nt,ge,vt,zt,Ce,Ge,lt=e[15].t("Base Model (From)")+"",bt,Xt,st,K,we,at=e[15].t("Select a base model")+"",wt,Jt,ye,Se,Ke,it=e[15].t("Description")+"",u,F,Y,C,ae,j,Ve,ie,fe,ue,Oe=e[15].t("Model Params")+"",Fe,Ye,de,ke,pe,qt=e[15].t("System Prompt")+"",lr,Mr,Gt,Pe,Lr,je,yt,Kt=e[15].t("Advanced Params")+"",sr,Br,Re,Hr,Ur,ar,xr,Me,Le,Ze,kt,Yt=e[15].t("Prompt suggestions")+"",ir,Wr,Be,zr,Xr,Jr,Et,He,qr,Gr,It,Ue,Kr,Yr,Tt,xe,jr,Zr,At,We,Qr,$r,Qe,Dt,Nt,jt=e[15].t("Capabilities")+"",or,en,ot,tn,$e,Ct,St,Zt=e[15].t("Tags")+"",cr,rn,Vt,et,nn,ze,tt,Ot,Qt=e[15].t("JSON Preview")+"",fr,ln,Xe,sn,an,Pt,_e,Ft,$t=e[15].t("Save & Create")+"",ur,on,dr,x,cn,yn;function kn(i,v){return i[7].meta.profile_image_url?Zs:js}let pr=kn(e),Ee=pr(e),Rt=Ut(e[14].filter(Pl)),Z=[];for(let i=0;i<Rt.length;i+=1)Z[i]=Il(El(e,Rt,i));function En(i,v){return i[7].meta.description===null?$s:Qs}let hr=En(e),Ie=hr(e),$=e[7].meta.description!==null&&Tl(e);function In(i,v){return i[3]?ta:ea}let mr=In(e),Te=mr(e),J=e[3]&&Al(e);function Tn(i,v){return i[7].meta.suggestion_prompts===null?na:ra}let gr=Tn(e),Ae=gr(e),ee=e[7].meta.suggestion_prompts!==null&&Dl(e),te=e[7].meta.suggestion_prompts&&Nl(e);function Gl(i){e[40](i)}let An={};e[11]!==void 0&&(An.knowledge=e[11]),He=new hs({props:An}),Ht.push(()=>rr(He,"knowledge",Gl));function Kl(i){e[41](i)}let Dn={tools:e[16]};e[10]!==void 0&&(Dn.selectedToolIds=e[10]),Ue=new ms({props:Dn}),Ht.push(()=>rr(Ue,"selectedToolIds",Kl));function Yl(i){e[42](i)}let Nn={filters:e[17].filter(Fl)};e[12]!==void 0&&(Nn.selectedFilterIds=e[12]),xe=new gs({props:Nn}),Ht.push(()=>rr(xe,"selectedFilterIds",Yl));function jl(i){e[43](i)}let Cn={actions:e[17].filter(Rl)};e[13]!==void 0&&(Cn.selectedActionIds=e[13]),We=new _s({props:Cn}),Ht.push(()=>rr(We,"selectedActionIds",jl));let ct=Ut(Object.keys(e[9])),L=[];for(let i=0;i<ct.length;i+=1)L[i]=Sl(yl(e,ct,i));const Zl=i=>Ne(L[i],1,1,()=>{L[i]=null});et=new ps({props:{tags:((On=(Vn=e[7])==null?void 0:Vn.meta)==null?void 0:On.tags)??[],deleteTag:e[45],addTag:e[46]}});function Sn(i,v){return i[4]?ia:aa}let _r=Sn(e),De=_r(e),re=e[4]&&Vl(e),oe=e[5]&&Ol();return{c(){t=d("div"),r=d("input"),n=k(),l=d("button"),s=d("div"),s.innerHTML=h,y=k(),w=d("div"),D=R(I),O=k(),b=d("form"),P=d("div"),le=d("div"),W=d("button"),Ee.c(),H=k(),X=d("div"),G=d("div"),se=d("div"),he=R(ce),qe=R("*"),g=k(),U=d("div"),_=d("input"),N=k(),V=d("div"),me=d("div"),_t=R(rt),xt=R("*"),Wt=k(),nt=d("div"),ge=d("input"),zt=k(),Ce=d("div"),Ge=d("div"),bt=R(lt),Xt=k(),st=d("div"),K=d("select"),we=d("option"),wt=R(at);for(let i=0;i<Z.length;i+=1)Z[i].c();Jt=k(),ye=d("div"),Se=d("div"),Ke=d("div"),u=R(it),F=k(),Y=d("button"),Ie.c(),C=k(),$&&$.c(),ae=k(),j=d("hr"),Ve=k(),ie=d("div"),fe=d("div"),ue=d("div"),Fe=R(Oe),Ye=k(),de=d("div"),ke=d("div"),pe=d("div"),lr=R(qt),Mr=k(),Gt=d("div"),Pe=d("textarea"),Lr=k(),je=d("div"),yt=d("div"),sr=R(Kt),Br=k(),Re=d("button"),Te.c(),Hr=k(),J&&J.c(),Ur=k(),ar=d("hr"),xr=k(),Me=d("div"),Le=d("div"),Ze=d("div"),kt=d("div"),ir=R(Yt),Wr=k(),Be=d("button"),Ae.c(),zr=k(),ee&&ee.c(),Xr=k(),te&&te.c(),Jr=k(),Et=d("div"),pt(He.$$.fragment),Gr=k(),It=d("div"),pt(Ue.$$.fragment),Yr=k(),Tt=d("div"),pt(xe.$$.fragment),Zr=k(),At=d("div"),pt(We.$$.fragment),$r=k(),Qe=d("div"),Dt=d("div"),Nt=d("div"),or=R(jt),en=k(),ot=d("div");for(let i=0;i<L.length;i+=1)L[i].c();tn=k(),$e=d("div"),Ct=d("div"),St=d("div"),cr=R(Zt),rn=k(),Vt=d("div"),pt(et.$$.fragment),nn=k(),ze=d("div"),tt=d("div"),Ot=d("div"),fr=R(Qt),ln=k(),Xe=d("button"),De.c(),sn=k(),re&&re.c(),an=k(),Pt=d("div"),_e=d("button"),Ft=d("div"),ur=R($t),on=k(),oe&&oe.c(),this.h()},l(i){t=p(i,"DIV",{class:!0});var v=m(t);r=p(v,"INPUT",{type:!0,accept:!0}),n=E(v),l=p(v,"BUTTON",{class:!0});var Q=m(l);s=p(Q,"DIV",{class:!0,"data-svelte-h":!0}),nr(s)!=="svelte-1klo87r"&&(s.innerHTML=h),y=E(Q),w=p(Q,"DIV",{class:!0});var Mt=m(w);D=M(Mt,I),Mt.forEach(c),Q.forEach(c),O=E(v),b=p(v,"FORM",{class:!0});var A=m(b);P=p(A,"DIV",{class:!0});var Lt=m(P);le=p(Lt,"DIV",{class:!0});var ft=m(le);W=p(ft,"BUTTON",{class:!0,type:!0});var er=m(W);Ee.l(er),er.forEach(c),ft.forEach(c),Lt.forEach(c),H=E(A),X=p(A,"DIV",{class:!0});var ut=m(X);G=p(ut,"DIV",{class:!0});var S=m(G);se=p(S,"DIV",{class:!0});var Je=m(se);he=M(Je,ce),qe=M(Je,"*"),Je.forEach(c),g=E(S),U=p(S,"DIV",{});var Pn=m(U);_=p(Pn,"INPUT",{class:!0,placeholder:!0}),Pn.forEach(c),S.forEach(c),N=E(ut),V=p(ut,"DIV",{class:!0});var vr=m(V);me=p(vr,"DIV",{class:!0});var fn=m(me);_t=M(fn,rt),xt=M(fn,"*"),fn.forEach(c),Wt=E(vr),nt=p(vr,"DIV",{});var Fn=m(nt);ge=p(Fn,"INPUT",{class:!0,placeholder:!0}),Fn.forEach(c),vr.forEach(c),ut.forEach(c),zt=E(A),Ce=p(A,"DIV",{class:!0});var br=m(Ce);Ge=p(br,"DIV",{class:!0});var Rn=m(Ge);bt=M(Rn,lt),Rn.forEach(c),Xt=E(br),st=p(br,"DIV",{});var Mn=m(st);K=p(Mn,"SELECT",{class:!0,placeholder:!0});var un=m(K);we=p(un,"OPTION",{class:!0});var Ln=m(we);wt=M(Ln,at),Ln.forEach(c);for(let dt=0;dt<Z.length;dt+=1)Z[dt].l(un);un.forEach(c),Mn.forEach(c),br.forEach(c),Jt=E(A),ye=p(A,"DIV",{class:!0});var wr=m(ye);Se=p(wr,"DIV",{class:!0});var yr=m(Se);Ke=p(yr,"DIV",{class:!0});var Bn=m(Ke);u=M(Bn,it),Bn.forEach(c),F=E(yr),Y=p(yr,"BUTTON",{class:!0,type:!0});var Hn=m(Y);Ie.l(Hn),Hn.forEach(c),yr.forEach(c),C=E(wr),$&&$.l(wr),wr.forEach(c),ae=E(A),j=p(A,"HR",{class:!0}),Ve=E(A),ie=p(A,"DIV",{class:!0});var kr=m(ie);fe=p(kr,"DIV",{class:!0});var Un=m(fe);ue=p(Un,"DIV",{class:!0});var xn=m(ue);Fe=M(xn,Oe),xn.forEach(c),Un.forEach(c),Ye=E(kr),de=p(kr,"DIV",{class:!0});var Bt=m(de);ke=p(Bt,"DIV",{class:!0});var Er=m(ke);pe=p(Er,"DIV",{class:!0});var Wn=m(pe);lr=M(Wn,qt),Wn.forEach(c),Mr=E(Er),Gt=p(Er,"DIV",{});var zn=m(Gt);Pe=p(zn,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),m(Pe).forEach(c),zn.forEach(c),Er.forEach(c),Lr=E(Bt),je=p(Bt,"DIV",{class:!0});var Ir=m(je);yt=p(Ir,"DIV",{class:!0});var Xn=m(yt);sr=M(Xn,Kt),Xn.forEach(c),Br=E(Ir),Re=p(Ir,"BUTTON",{class:!0,type:!0});var Jn=m(Re);Te.l(Jn),Jn.forEach(c),Ir.forEach(c),Hr=E(Bt),J&&J.l(Bt),Bt.forEach(c),kr.forEach(c),Ur=E(A),ar=p(A,"HR",{class:!0}),xr=E(A),Me=p(A,"DIV",{class:!0});var Tr=m(Me);Le=p(Tr,"DIV",{class:!0});var Ar=m(Le);Ze=p(Ar,"DIV",{class:!0});var Dr=m(Ze);kt=p(Dr,"DIV",{class:!0});var qn=m(kt);ir=M(qn,Yt),qn.forEach(c),Wr=E(Dr),Be=p(Dr,"BUTTON",{class:!0,type:!0});var Gn=m(Be);Ae.l(Gn),Gn.forEach(c),Dr.forEach(c),zr=E(Ar),ee&&ee.l(Ar),Ar.forEach(c),Xr=E(Tr),te&&te.l(Tr),Tr.forEach(c),Jr=E(A),Et=p(A,"DIV",{class:!0});var Kn=m(Et);ht(He.$$.fragment,Kn),Kn.forEach(c),Gr=E(A),It=p(A,"DIV",{class:!0});var Yn=m(It);ht(Ue.$$.fragment,Yn),Yn.forEach(c),Yr=E(A),Tt=p(A,"DIV",{class:!0});var jn=m(Tt);ht(xe.$$.fragment,jn),jn.forEach(c),Zr=E(A),At=p(A,"DIV",{class:!0});var Zn=m(At);ht(We.$$.fragment,Zn),Zn.forEach(c),$r=E(A),Qe=p(A,"DIV",{class:!0});var Nr=m(Qe);Dt=p(Nr,"DIV",{class:!0});var Qn=m(Dt);Nt=p(Qn,"DIV",{class:!0});var $n=m(Nt);or=M($n,jt),$n.forEach(c),Qn.forEach(c),en=E(Nr),ot=p(Nr,"DIV",{class:!0});var el=m(ot);for(let dt=0;dt<L.length;dt+=1)L[dt].l(el);el.forEach(c),Nr.forEach(c),tn=E(A),$e=p(A,"DIV",{class:!0});var Cr=m($e);Ct=p(Cr,"DIV",{class:!0});var tl=m(Ct);St=p(tl,"DIV",{class:!0});var rl=m(St);cr=M(rl,Zt),rl.forEach(c),tl.forEach(c),rn=E(Cr),Vt=p(Cr,"DIV",{class:!0});var nl=m(Vt);ht(et.$$.fragment,nl),nl.forEach(c),Cr.forEach(c),nn=E(A),ze=p(A,"DIV",{class:!0});var Sr=m(ze);tt=p(Sr,"DIV",{class:!0});var Vr=m(tt);Ot=p(Vr,"DIV",{class:!0});var ll=m(Ot);fr=M(ll,Qt),ll.forEach(c),ln=E(Vr),Xe=p(Vr,"BUTTON",{class:!0,type:!0});var sl=m(Xe);De.l(sl),sl.forEach(c),Vr.forEach(c),sn=E(Sr),re&&re.l(Sr),Sr.forEach(c),an=E(A),Pt=p(A,"DIV",{class:!0});var al=m(Pt);_e=p(al,"BUTTON",{class:!0,type:!0});var Or=m(_e);Ft=p(Or,"DIV",{class:!0});var il=m(Ft);ur=M(il,$t),il.forEach(c),on=E(Or),oe&&oe.l(Or),Or.forEach(c),al.forEach(c),A.forEach(c),v.forEach(c),this.h()},h(){o(r,"type","file"),r.hidden=!0,o(r,"accept","image/*"),o(s,"class","self-center"),o(w,"class","self-center font-medium text-sm"),o(l,"class","flex space-x-1"),o(W,"class",f=(e[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),o(W,"type","button"),o(le,"class","self-center"),o(P,"class","flex justify-center my-4"),o(se,"class","text-sm font-semibold mb-2"),o(_,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(_,"placeholder",T=e[15].t("Name your model")),_.required=!0,o(G,"class","flex-1"),o(me,"class","text-sm font-semibold mb-2"),o(ge,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(ge,"placeholder",vt=e[15].t("Add a model id")),ge.required=!0,o(V,"class","flex-1"),o(X,"class","my-2 flex space-x-2"),o(Ge,"class","text-sm font-semibold mb-2"),we.__value=null,be(we,we.__value),o(we,"class","text-gray-900"),o(K,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(K,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),K.required=!0,e[7].base_model_id===void 0&&$l(()=>e[28].call(K)),o(Ce,"class","my-2"),o(Ke,"class","self-center text-sm font-semibold"),o(Y,"class","p-1 text-xs flex rounded transition"),o(Y,"type","button"),o(Se,"class","flex w-full justify-between items-center mb-1"),o(ye,"class","my-1"),o(j,"class","dark:border-gray-850 my-1"),o(ue,"class","self-center text-sm font-semibold"),o(fe,"class","flex w-full justify-between"),o(pe,"class","text-xs font-semibold mb-2"),o(Pe,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),o(Pe,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),o(Pe,"rows","4"),o(ke,"class","my-1"),o(yt,"class","self-center text-xs font-semibold"),o(Re,"class","p-1 px-3 text-xs flex rounded transition"),o(Re,"type","button"),o(je,"class","flex w-full justify-between"),o(de,"class","mt-2"),o(ie,"class","my-2"),o(ar,"class","dark:border-gray-850 my-1"),o(kt,"class","self-center text-sm font-semibold"),o(Be,"class","p-1 text-xs flex rounded transition"),o(Be,"type","button"),o(Ze,"class","flex w-full justify-between items-center"),o(Le,"class","flex w-full justify-between items-center"),o(Me,"class","my-1"),o(Et,"class","my-2"),o(It,"class","my-2"),o(Tt,"class","my-2"),o(At,"class","my-2"),o(Nt,"class","self-center text-sm font-semibold"),o(Dt,"class","flex w-full justify-between mb-1"),o(ot,"class","flex flex-col"),o(Qe,"class","my-1"),o(St,"class","self-center text-sm font-semibold"),o(Ct,"class","flex w-full justify-between items-center"),o(Vt,"class","mt-2"),o($e,"class","my-1"),o(Ot,"class","self-center text-sm font-semibold"),o(Xe,"class","p-1 px-3 text-xs flex rounded transition"),o(Xe,"type","button"),o(tt,"class","flex w-full justify-between mb-2"),o(ze,"class","my-2 text-gray-300 dark:text-gray-700"),o(Ft,"class","self-center font-medium"),o(_e,"class",dr="text-sm px-3 py-2 transition rounded-xl "+(e[5]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),o(_e,"type","submit"),_e.disabled=e[5],o(Pt,"class","my-2 flex justify-end mb-20"),o(b,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10"),o(t,"class","w-full max-h-full")},m(i,v){z(i,t,v),a(t,r),e[21](r),a(t,n),a(t,l),a(l,s),a(l,y),a(l,w),a(w,D),a(t,O),a(t,b),a(b,P),a(P,le),a(le,W),Ee.m(W,null),a(b,H),a(b,X),a(X,G),a(G,se),a(se,he),a(se,qe),a(G,g),a(G,U),a(U,_),be(_,e[0]),a(X,N),a(X,V),a(V,me),a(me,_t),a(me,xt),a(V,Wt),a(V,nt),a(nt,ge),be(ge,e[6]),a(b,zt),a(b,Ce),a(Ce,Ge),a(Ge,bt),a(Ce,Xt),a(Ce,st),a(st,K),a(K,we),a(we,wt);for(let Q=0;Q<Z.length;Q+=1)Z[Q]&&Z[Q].m(K,null);ol(K,e[7].base_model_id,!0),a(b,Jt),a(b,ye),a(ye,Se),a(Se,Ke),a(Ke,u),a(Se,F),a(Se,Y),Ie.m(Y,null),a(ye,C),$&&$.m(ye,null),a(b,ae),a(b,j),a(b,Ve),a(b,ie),a(ie,fe),a(fe,ue),a(ue,Fe),a(ie,Ye),a(ie,de),a(de,ke),a(ke,pe),a(pe,lr),a(ke,Mr),a(ke,Gt),a(Gt,Pe),be(Pe,e[7].params.system),a(de,Lr),a(de,je),a(je,yt),a(yt,sr),a(je,Br),a(je,Re),Te.m(Re,null),a(de,Hr),J&&J.m(de,null),a(b,Ur),a(b,ar),a(b,xr),a(b,Me),a(Me,Le),a(Le,Ze),a(Ze,kt),a(kt,ir),a(Ze,Wr),a(Ze,Be),Ae.m(Be,null),a(Le,zr),ee&&ee.m(Le,null),a(Me,Xr),te&&te.m(Me,null),a(b,Jr),a(b,Et),mt(He,Et,null),a(b,Gr),a(b,It),mt(Ue,It,null),a(b,Yr),a(b,Tt),mt(xe,Tt,null),a(b,Zr),a(b,At),mt(We,At,null),a(b,$r),a(b,Qe),a(Qe,Dt),a(Dt,Nt),a(Nt,or),a(Qe,en),a(Qe,ot);for(let Q=0;Q<L.length;Q+=1)L[Q]&&L[Q].m(ot,null);a(b,tn),a(b,$e),a($e,Ct),a(Ct,St),a(St,cr),a($e,rn),a($e,Vt),mt(et,Vt,null),a(b,nn),a(b,ze),a(ze,tt),a(tt,Ot),a(Ot,fr),a(tt,ln),a(tt,Xe),De.m(Xe,null),a(ze,sn),re&&re.m(ze,null),a(b,an),a(b,Pt),a(Pt,_e),a(_e,Ft),a(Ft,ur),a(_e,on),oe&&oe.m(_e,null),x=!0,cn||(yn=[q(r,"change",e[22]),q(r,"change",e[23]),q(l,"click",e[24]),q(W,"click",e[25]),q(_,"input",e[26]),q(ge,"input",e[27]),q(K,"change",e[28]),q(K,"change",e[29]),q(Y,"click",e[30]),q(Pe,"input",e[32]),q(Re,"click",e[33]),q(Be,"click",e[36]),q(Xe,"click",e[47]),q(b,"submit",es(e[48]))],cn=!0)},p(i,v){var er,ut;if((!x||v[0]&32768)&&I!==(I=i[15].t("Back")+"")&&B(D,I),pr===(pr=kn(i))&&Ee?Ee.p(i,v):(Ee.d(1),Ee=pr(i),Ee&&(Ee.c(),Ee.m(W,null))),(!x||v[0]&16512&&f!==(f=(i[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&o(W,"class",f),(!x||v[0]&32768)&&ce!==(ce=i[15].t("Name")+"")&&B(he,ce),(!x||v[0]&32768&&T!==(T=i[15].t("Name your model")))&&o(_,"placeholder",T),v[0]&1&&_.value!==i[0]&&be(_,i[0]),(!x||v[0]&32768)&&rt!==(rt=i[15].t("Model ID")+"")&&B(_t,rt),(!x||v[0]&32768&&vt!==(vt=i[15].t("Add a model id")))&&o(ge,"placeholder",vt),v[0]&64&&ge.value!==i[6]&&be(ge,i[6]),(!x||v[0]&32768)&&lt!==(lt=i[15].t("Base Model (From)")+"")&&B(bt,lt),(!x||v[0]&32768)&&at!==(at=i[15].t("Select a base model")+"")&&B(wt,at),v[0]&16384){Rt=Ut(i[14].filter(Pl));let S;for(S=0;S<Rt.length;S+=1){const Je=El(i,Rt,S);Z[S]?Z[S].p(Je,v):(Z[S]=Il(Je),Z[S].c(),Z[S].m(K,null))}for(;S<Z.length;S+=1)Z[S].d(1);Z.length=Rt.length}v[0]&16512&&ol(K,i[7].base_model_id),(!x||v[0]&32768)&&it!==(it=i[15].t("Description")+"")&&B(u,it),hr===(hr=En(i))&&Ie?Ie.p(i,v):(Ie.d(1),Ie=hr(i),Ie&&(Ie.c(),Ie.m(Y,null))),i[7].meta.description!==null?$?$.p(i,v):($=Tl(i),$.c(),$.m(ye,null)):$&&($.d(1),$=null),(!x||v[0]&32768)&&Oe!==(Oe=i[15].t("Model Params")+"")&&B(Fe,Oe),(!x||v[0]&32768)&&qt!==(qt=i[15].t("System Prompt")+"")&&B(lr,qt),v[0]&16512&&be(Pe,i[7].params.system),(!x||v[0]&32768)&&Kt!==(Kt=i[15].t("Advanced Params")+"")&&B(sr,Kt),mr===(mr=In(i))&&Te?Te.p(i,v):(Te.d(1),Te=mr(i),Te&&(Te.c(),Te.m(Re,null))),i[3]?J?(J.p(i,v),v[0]&8&&ve(J,1)):(J=Al(i),J.c(),ve(J,1),J.m(de,null)):J&&(hl(),Ne(J,1,1,()=>{J=null}),pl()),(!x||v[0]&32768)&&Yt!==(Yt=i[15].t("Prompt suggestions")+"")&&B(ir,Yt),gr===(gr=Tn(i))&&Ae?Ae.p(i,v):(Ae.d(1),Ae=gr(i),Ae&&(Ae.c(),Ae.m(Be,null))),i[7].meta.suggestion_prompts!==null?ee?ee.p(i,v):(ee=Dl(i),ee.c(),ee.m(Le,null)):ee&&(ee.d(1),ee=null),i[7].meta.suggestion_prompts?te?te.p(i,v):(te=Nl(i),te.c(),te.m(Me,null)):te&&(te.d(1),te=null);const Q={};!qr&&v[0]&2048&&(qr=!0,Q.knowledge=i[11],tr(()=>qr=!1)),He.$set(Q);const Mt={};v[0]&65536&&(Mt.tools=i[16]),!Kr&&v[0]&1024&&(Kr=!0,Mt.selectedToolIds=i[10],tr(()=>Kr=!1)),Ue.$set(Mt);const A={};v[0]&131072&&(A.filters=i[17].filter(Fl)),!jr&&v[0]&4096&&(jr=!0,A.selectedFilterIds=i[12],tr(()=>jr=!1)),xe.$set(A);const Lt={};if(v[0]&131072&&(Lt.actions=i[17].filter(Rl)),!Qr&&v[0]&8192&&(Qr=!0,Lt.selectedActionIds=i[13],tr(()=>Qr=!1)),We.$set(Lt),(!x||v[0]&32768)&&jt!==(jt=i[15].t("Capabilities")+"")&&B(or,jt),v[0]&33280){ct=Ut(Object.keys(i[9]));let S;for(S=0;S<ct.length;S+=1){const Je=yl(i,ct,S);L[S]?(L[S].p(Je,v),ve(L[S],1)):(L[S]=Sl(Je),L[S].c(),ve(L[S],1),L[S].m(ot,null))}for(hl(),S=ct.length;S<L.length;S+=1)Zl(S);pl()}(!x||v[0]&32768)&&Zt!==(Zt=i[15].t("Tags")+"")&&B(cr,Zt);const ft={};v[0]&128&&(ft.tags=((ut=(er=i[7])==null?void 0:er.meta)==null?void 0:ut.tags)??[]),v[0]&128&&(ft.deleteTag=i[45]),v[0]&128&&(ft.addTag=i[46]),et.$set(ft),(!x||v[0]&32768)&&Qt!==(Qt=i[15].t("JSON Preview")+"")&&B(fr,Qt),_r===(_r=Sn(i))&&De?De.p(i,v):(De.d(1),De=_r(i),De&&(De.c(),De.m(Xe,null))),i[4]?re?re.p(i,v):(re=Vl(i),re.c(),re.m(ze,null)):re&&(re.d(1),re=null),(!x||v[0]&32768)&&$t!==($t=i[15].t("Save & Create")+"")&&B(ur,$t),i[5]?oe||(oe=Ol(),oe.c(),oe.m(_e,null)):oe&&(oe.d(1),oe=null),(!x||v[0]&32&&dr!==(dr="text-sm px-3 py-2 transition rounded-xl "+(i[5]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&o(_e,"class",dr),(!x||v[0]&32)&&(_e.disabled=i[5])},i(i){if(!x){ve(J),ve(He.$$.fragment,i),ve(Ue.$$.fragment,i),ve(xe.$$.fragment,i),ve(We.$$.fragment,i);for(let v=0;v<ct.length;v+=1)ve(L[v]);ve(et.$$.fragment,i),x=!0}},o(i){Ne(J),Ne(He.$$.fragment,i),Ne(Ue.$$.fragment,i),Ne(xe.$$.fragment,i),Ne(We.$$.fragment,i),L=L.filter(Boolean);for(let v=0;v<L.length;v+=1)Ne(L[v]);Ne(et.$$.fragment,i),x=!1},d(i){i&&c(t),e[21](null),Ee.d(),mn(Z,i),Ie.d(),$&&$.d(),Te.d(),J&&J.d(),Ae.d(),ee&&ee.d(),te&&te.d(),gt(He),gt(Ue),gt(xe),gt(We),mn(L,i),gt(et),De.d(),re&&re.d(),oe&&oe.d(),cn=!1,Ml(yn)}}}const Pl=e=>!(e!=null&&e.preset),Fl=e=>e.type==="filter",Rl=e=>e.type==="action";function ca(e,t,r){let n,l,s,h;Pr(e,_l,u=>r(14,n=u)),Pr(e,is,u=>r(16,s=u)),Pr(e,os,u=>r(17,h=u));const y=ts("i18n");Pr(e,y,u=>r(15,l=u));let w,I,D=!1,O=!1,b=!1,P=!1,le="",W="",f={id:"",base_model_id:null,name:"",meta:{profile_image_url:null,description:"",suggestion_prompts:[{content:""}]},params:{system:""}},H={},X={vision:!0},G=[],se=[],ce=[],he=[];const qe=u=>{var Y,C,ae;const F=n.find(j=>j.id===u);F&&(F.owned_by==="openai"?r(9,X.usage=((ae=(C=(Y=F.info)==null?void 0:Y.meta)==null?void 0:C.capabilities)==null?void 0:ae.usage)??!1,X):delete X.usage,r(9,X))},g=async()=>{if(r(5,b=!0),r(7,f.id=le,f),r(7,f.name=W,f),r(7,f.meta.capabilities=X,f),se.length>0?r(7,f.meta.knowledge=se,f):f.meta.knowledge&&delete f.meta.knowledge,G.length>0?r(7,f.meta.toolIds=G,f):f.meta.toolIds&&delete f.meta.toolIds,ce.length>0?r(7,f.meta.filterIds=ce,f):f.meta.filterIds&&delete f.meta.filterIds,he.length>0?r(7,f.meta.actionIds=he,f):f.meta.actionIds&&delete f.meta.actionIds,r(7,f.params.stop=H.stop?H.stop.split(",").filter(u=>u.trim()):null,f),Object.keys(f.params).forEach(u=>{(f.params[u]===""||f.params[u]===null)&&delete f.params[u]}),n.find(u=>u.id===f.id))return ml.error(`Error: A model with the ID '${f.id}' already exists. Please select a different ID to proceed.`),r(5,b=!1),P=!1,P;f&&await cs(localStorage.token,{...f,meta:{...f.meta,profile_image_url:f.meta.profile_image_url??"/static/favicon.png",suggestion_prompts:f.meta.suggestion_prompts?f.meta.suggestion_prompts.filter(F=>F.content!==""):null},params:{...f.params,...H}})&&(await _l.set(await fs(localStorage.token)),ml.success(l.t("Model created successfully!")),await gl("/workspace/models")),r(5,b=!1),P=!1},U=async u=>{var F,Y,C,ae,j,Ve,ie,fe,ue,Oe,Fe,Ye,de;if(r(0,W=u.name),await ls(),r(6,le=u.id),u.info.base_model_id){const ke=n.filter(pe=>!(pe!=null&&pe.preset)).find(pe=>[u.info.base_model_id,`${u.info.base_model_id}:latest`].includes(pe.id));console.log("base_model",ke),ke?n.find(pe=>pe.id===`${u.info.base_model_id}:latest`)&&(u.info.base_model_id=`${u.info.base_model_id}:latest`):u.info.base_model_id=null}r(8,H={...H,...(F=u==null?void 0:u.info)==null?void 0:F.params}),r(8,H.stop=H!=null&&H.stop?((H==null?void 0:H.stop)??[]).join(","):null,H),r(9,X={...X,...((C=(Y=u==null?void 0:u.info)==null?void 0:Y.meta)==null?void 0:C.capabilities)??{}}),r(10,G=((j=(ae=u==null?void 0:u.info)==null?void 0:ae.meta)==null?void 0:j.toolIds)??[]),(ie=(Ve=u==null?void 0:u.info)==null?void 0:Ve.meta)!=null&&ie.filterIds&&r(12,ce=[...(ue=(fe=u==null?void 0:u.info)==null?void 0:fe.meta)==null?void 0:ue.filterIds]),(Fe=(Oe=u==null?void 0:u.info)==null?void 0:Oe.meta)!=null&&Fe.actionIds&&r(13,he=[...(de=(Ye=u==null?void 0:u.info)==null?void 0:Ye.meta)==null?void 0:de.actionIds]),r(7,f={...f,...u.info}),console.log(f)};rs(async()=>{if(window.addEventListener("message",async u=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(u.origin))return;const F=JSON.parse(u.data);console.log(F),U(F)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model){const u=JSON.parse(sessionStorage.model);sessionStorage.removeItem("model"),console.log(u),U(u)}});function _(u){Ht[u?"unshift":"push"](()=>{w=u,r(1,w)})}function T(){I=this.files,r(2,I)}const N=()=>{let u=new FileReader;u.onload=async F=>{let Y=`${F.target.result}`,C=await Xs(I[0]).catch(j=>null);if(console.log(C),C&&C.character){C=C.character,console.log(C),r(0,W=C.name);const j=/<\/?[a-z][\s\S]*>/i;if(C.summary.match(j)){const Ve=new Rr;r(7,f.meta.description=Ve.turndown(C.summary),f)}else r(7,f.meta.description=C.summary,f);r(7,f.params.system=`Personality: ${C.personality}${C!=null&&C.scenario?`
Scenario: ${C.scenario}`:""}${C!=null&&C.greeting?`First Message: ${C.greeting}`:""}${C!=null&&C.examples?`
Examples: ${C.examples}`:""}`,f)}const ae=new Image;ae.src=Y,ae.onload=function(){const j=document.createElement("canvas"),Ve=j.getContext("2d"),ie=ae.width/ae.height;let fe,ue;ie>1?(fe=250*ie,ue=250):(fe=250,ue=250/ie),j.width=250,j.height=250;const Oe=(250-fe)/2,Fe=(250-ue)/2;Ve.drawImage(ae,Oe,Fe,fe,ue);const Ye=j.toDataURL("image/jpeg");r(7,f.meta.profile_image_url=Ye,f),r(2,I=null)}},I&&I.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(I[0].type)?u.readAsDataURL(I[0]):(console.log(`Unsupported File Type '${I[0].type}'.`),r(2,I=null))},V=()=>{gl("/workspace/models")},me=()=>{w.click()};function rt(){W=this.value,r(0,W)}function _t(){le=this.value,r(6,le),r(0,W)}function xt(){f.base_model_id=ns(this),r(7,f)}const Wt=u=>{qe(u.target.value)},nt=()=>{f.meta.description===null?r(7,f.meta.description="",f):r(7,f.meta.description=null,f)};function ge(){f.meta.description=this.value,r(7,f)}function vt(){f.params.system=this.value,r(7,f)}const zt=()=>{r(3,D=!D)};function Ce(u){H=u,r(8,H)}const Ge=u=>{r(7,f.params={...f.params,...H},f)},lt=()=>{f.meta.suggestion_prompts===null?r(7,f.meta.suggestion_prompts=[{content:""}],f):r(7,f.meta.suggestion_prompts=null,f)},bt=()=>{(f.meta.suggestion_prompts.length===0||f.meta.suggestion_prompts.at(-1).content!=="")&&r(7,f.meta.suggestion_prompts=[...f.meta.suggestion_prompts,{content:""}],f)};function Xt(u,F){u[F].content=this.value,r(7,f)}const st=u=>{f.meta.suggestion_prompts.splice(u,1),r(7,f)};function K(u){se=u,r(11,se)}function we(u){G=u,r(10,G)}function at(u){ce=u,r(12,ce)}function wt(u){he=u,r(13,he)}const Jt=(u,F)=>{r(9,X[u]=F.detail==="checked",X)},ye=u=>{r(7,f.meta.tags=f.meta.tags.filter(F=>F.name!==u),f)},Se=u=>{var F;console.log(u),((F=f==null?void 0:f.meta)==null?void 0:F.tags)??null?r(7,f.meta.tags=[...f.meta.tags,{name:u}],f):r(7,f.meta.tags=[{name:u}],f)},Ke=()=>{r(4,O=!O)},it=()=>{g()};return e.$$.update=()=>{e.$$.dirty[0]&1&&W&&r(6,le=W.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase())},[W,w,I,D,O,b,le,f,H,X,G,se,ce,he,n,l,s,h,y,qe,g,_,T,N,V,me,rt,_t,xt,Wt,nt,ge,vt,zt,Ce,Ge,lt,bt,Xt,st,K,we,at,wt,Jt,ye,Se,Ke,it]}class Ia extends ss{constructor(t){super(),as(this,t,ca,oa,Ql,{},null,[-1,-1])}}export{Ia as component};
//# sourceMappingURL=17.DDF8IuYm.js.map
