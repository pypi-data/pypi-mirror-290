(()=>{"use strict";var e={9562:(e,t,a)=>{var n=a(3751),r=a(641);const i={id:"app"};function o(e,t,a,n,o,s){const l=(0,r.g2)("PdfViewer"),d=(0,r.g2)("WithStreamlitConnection");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(d,null,{default:(0,r.k6)((({args:e})=>[(0,r.bF)(l,{args:e},null,8,["args"])])),_:1})])}var s=a(33);const l={key:0},d={key:0,id:"pdfAnnotations"},p=["id"],g={key:1},c=["src","width","height"],u={key:2},h=["src","width","height"],v={key:3};function w(e,t,a,n,i,o){return(0,r.uX)(),(0,r.CE)("div",{id:"pdfContainer",style:(0,s.Tr)(n.pdfContainerStyle)},["unwrap"===a.args.rendering?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",{id:"pdfViewer",style:(0,s.Tr)(n.pdfViewerStyle)},[a.args.annotations?((0,r.uX)(),(0,r.CE)("div",d,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filteredAnnotations,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,style:(0,s.Tr)(n.getPageStyle)},[(0,r.Lk)("div",{style:(0,s.Tr)(n.getAnnotationStyle(e)),id:`annotation-${t}`},null,12,p)],4)))),128))])):(0,r.Q3)("",!0)],4)])):"legacy_embed"===a.args.rendering?((0,r.uX)(),(0,r.CE)("div",g,[(0,r.Lk)("embed",{src:`data:application/pdf;base64,${a.args.binary}`,width:`${a.args.width}`,height:`${a.args.height}`,type:"application/pdf"},null,8,c)])):"legacy_iframe"===a.args.rendering?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("embed",{src:`data:application/pdf;base64,${a.args.binary}`,width:`${a.args.width}`,height:`${a.args.height}`,type:"application/pdf"},null,8,h)])):((0,r.uX)(),(0,r.CE)("div",v," Error rendering option. "))],4)}a(4114);var f=a(953),m=(a(7566),a(4883)),y=a(7445);const _="pdfjs-dist/cmaps/",E=!0,C=!0,b={props:["args"],setup(e){const t=(0,f.KR)(0),a=(0,f.KR)(0),n=(0,f.KR)([]),i=(0,f.KR)([]),o=0===e.args.pages_to_render.length,s=(0,r.EW)((()=>o?e.args.annotations:e.args.annotations.filter((t=>e.args.pages_to_render.includes(Number(t.page)))))),l=!0===e.args.render_text,d=(0,r.EW)((()=>({width:e.args.width?`${e.args.width}px`:`${a.value}px`,height:e.args.height?`${e.args.height}px`:"auto",overflow:"auto"}))),p={position:"relative"},g={position:"relative"},c=t=>{let a=0;if(o)for(let r=0;r<t-1;r++)a+=i.value[r]*n.value[r]+e.args.pages_vertical_spacing;else for(let r=0;r<i.value.length;r++)e.args.pages_to_render.includes(r+1)&&r<t-1&&(a+=i.value[r]*n.value[r]+e.args.pages_vertical_spacing);return a},u=t=>{const a=n.value[t.page-1];return{position:"absolute",left:t.x*a+"px",top:`${c(t.page)+t.y*a}px`,width:t.width*a+"px",height:t.height*a+"px",outline:e.args.annotation_outline_size*a+"px solid",outlineColor:t.color,cursor:"pointer","z-index":10}},h=e=>{const t=e?.getElementsByTagName("canvas");for(let a=t.length-1;a>=0;a--)e?.removeChild(t.item(a))},v=(t,a,n,r,i=1)=>{const o=t.getViewport({scale:a,rotation:n}),s=(window.devicePixelRatio||1)*i,l=document.createElement("canvas");return l.id=`canvas_page_${r}`,l.height=o.height*s+e.args.pages_vertical_spacing,l.width=o.width*s,l.style.width=o.width+"px",l.style.height=o.height+"px",l.style.display="block",l.style.marginBottom=`${e.args.pages_vertical_spacing}px`,l.getContext("2d").scale(s,s),l},w=async(e,t,a)=>{const n={canvasContext:t.getContext("2d"),viewport:a},r=e.render(n);if(await r.promise,l){const n=await e.getTextContent(),r=document.createElement("div");r.className="textLayer";const i=new m.D6({textContentSource:n,container:r,viewport:a,textDivs:[]});await i.render();const o=document.createElement("div");o.className="page";const s=document.createElement("div");s.className="canvasWrapper",s.appendChild(t),o.style="position: relative;";const l=document.getElementById("pdfViewer");o.appendChild(s),o.appendChild(r),l.appendChild(o)}else{const e=document.createElement("div");e.className="page";const a=document.createElement("div");a.className="canvasWrapper",a.appendChild(t),e.style="position: relative;",e.appendChild(a),pdfViewer.appendChild(e)}},b=async(r,o,s=null)=>{if(0===s.length){s=[];for(let e=0;e<r.numPages;e++)s.push(e+1)}let l=1;e.args.resolution_boost&&(l=e.args.resolution_boost);for(let d=1;d<=r.numPages;d++){const p=await r.getPage(d),g=p.rotate,c=p.getViewport({scale:1,rotation:g});if(e.args.height>0){let t=c.width/c.height;const n=t*e.args.height;(0===a.value||n<a.value)&&(a.value=n)}const u=a.value/c.width;if(n.value.push(u),i.value.push(c.height),s.includes(d)){const e=v(p,u,g,d,l);o.style.setProperty("--scale-factor",u);const a=p.getViewport({scale:n.value[p._pageIndex],rotation:p.rotate,intent:"print"}),r=(window.devicePixelRatio||1)*l;t.value+=e.height/r,await w(p,e,a)}}s.length>0&&(t.value-=e.args.pages_vertical_spacing)},k=e=>{window.alert(e.message),console.error(e)},x=async t=>{try{const a=await(0,m.YE)({url:t,cMapUrl:_,cMapPacked:E,enableXfa:C}),n=document.getElementById("pdfViewer");h(n);const r=await a.promise;await b(r,n,e.args.pages_to_render)}catch(a){k(a)}},$=()=>{y.wk.setFrameHeight(e.args.height||t.value)},R=()=>{null===e.args.width||void 0===e.args.width?a.value=window.innerWidth:Number.isInteger(e.args.width)&&(a.value=e.args.width,window.innerWidth>0&&window.innerWidth<a.value&&(a.value=window.innerWidth))};return(0,r.sV)((()=>{const t=`data:application/pdf;base64,${e.args.binary}`;R(),"unwrap"===e.args.rendering?x(t).then($).then(y.wk.setComponentReady):($(),y.wk.setComponentReady())})),(0,r.$u)((()=>{$()})),{filteredAnnotations:s,getAnnotationStyle:u,pdfContainerStyle:d,pdfViewerStyle:p,getPageStyle:g}}};var k=a(6262);const x=(0,k.A)(b,[["render",w]]),$=x,R=e=>((0,r.Qi)("data-v-bef81972"),e=e(),(0,r.jt)(),e),V={key:0},P=R((()=>(0,r.Lk)("h1",{class:"err__title"},"Component Error",-1))),S={class:"err__msg"};function N(e,t,a,n,i,o){return(0,r.uX)(),(0,r.CE)("div",null,[""!=e.componentError?((0,r.uX)(),(0,r.CE)("div",V,[P,(0,r.Lk)("div",S,"Message: "+(0,s.v_)(e.componentError),1)])):null!=e.renderData?(0,r.RG)(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled},void 0,!0):(0,r.Q3)("",!0)])}const X=(0,r.pM)({name:"WithStreamlitConnection",setup(){const e=(0,f.KR)(void 0),t=(0,f.KR)(""),a=a=>{const n=a;e.value=n.detail,t.value=""};return(0,r.sV)((()=>{y.wk.events.addEventListener(y.wk.RENDER_EVENT,a),y.wk.setComponentReady()})),(0,r.$u)((()=>{""!=t.value&&y.wk.setFrameHeight()})),(0,r.hi)((()=>{y.wk.events.removeEventListener(y.wk.RENDER_EVENT,a)})),(0,r.qG)((e=>{t.value=String(e)})),{renderData:e,componentError:t}}}),O=(0,k.A)(X,[["render",N],["__scopeId","data-v-bef81972"]]),W=O,T=(0,r.pM)({name:"App",components:{PdfViewer:$,WithStreamlitConnection:W}}),A=(0,k.A)(T,[["render",o]]),L=A;(0,n.Ef)(L).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,n,r,i)=>{if(!n){var o=1/0;for(p=0;p<e.length;p++){for(var[n,r,i]=e[p],s=!0,l=0;l<n.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(p--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,r,i]}})(),(()=>{a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,s,l]=n,d=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var p=l(a)}for(t&&t(n);d<o.length;d++)i=o[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(p)},n=self["webpackChunkstreamlit_pdf_viewer"]=self["webpackChunkstreamlit_pdf_viewer"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[504],(()=>a(9562)));n=a.O(n)})();
//# sourceMappingURL=app.63206f54.js.map